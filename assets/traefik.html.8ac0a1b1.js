import{_ as i,r as o,o as l,c,d as n,e as s,a as e,f as t}from"./app.3d77e012.js";const p={},r=t('<h1 id="traefik-memo" tabindex="-1"><a class="header-anchor" href="#traefik-memo" aria-hidden="true">#</a> Traefik Memo</h1><p>\u672C\u7BC7\u662F\u5B78\u7FD2 traefik \u7684\u5B78\u7FD2\u7B46\u8A18\uFF0C\u4E3B\u8981\u662F\u4ECB\u7D39\u4E00\u4E9B\u57FA\u790E\u6982\u5FF5, \u540D\u8A5E\u8AAA\u660E, \u4F7F\u7528\u65B9\u5F0F</p><h2 id="\u4ECB\u7D39" tabindex="-1"><a class="header-anchor" href="#\u4ECB\u7D39" aria-hidden="true">#</a> \u4ECB\u7D39</h2><p>Traefik \u662F\u4E00\u6B3E\u958B\u6E90\u7684\u908A\u7DE3\u8DEF\u7531\u5668\uFF0C\u4E3B\u8981\u529F\u7528\u662F\u767C\u5E03\u670D\u52D9\u4E26\u9032\u884C\u4E00\u7CFB\u5217\u7684\u7D44\u7E54\u7BA1\u7406\u3002\u66FF\u7CFB\u7D71\u63A5\u6536\u8ACB\u6C42\u4E26\u627E\u51FA\u54EA\u4E9B\u7D44\u4EF6\u8CA0\u8CAC\u8655\u7406\u5B83\u5011</p><h2 id="\u57FA\u672C\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u6982\u5FF5" aria-hidden="true">#</a> \u57FA\u672C\u6982\u5FF5</h2><p>Traefik \u662F\u4E00\u500B\u908A\u7DE3\u8DEF\u7531\u5668\uFF0C\u505A\u70BA\u7CFB\u7D71\u5E73\u53F0\u7684\u5165\u53E3\uFF0C\u5B83\u6514\u622A\u4E26\u8DEF\u7531\u6BCF\u500B\u50B3\u5165\u7684\u8ACB\u6C42\uFF0C\u4E26\u6C7A\u5B9A\u54EA\u4E9B\u670D\u52D9\u8655\u7406\u54EA\u4E9B\u8ACB\u6C42\u7684\u6240\u6709\u908F\u8F2F\u548C\u898F\u5247 <img src="https://doc.traefik.io/traefik/assets/img/traefik-concepts-1.png" alt=""></p><h3 id="\u81EA\u52D5\u5316\u670D\u52D9\u5075\u6E2C-auto-service-discovery" tabindex="-1"><a class="header-anchor" href="#\u81EA\u52D5\u5316\u670D\u52D9\u5075\u6E2C-auto-service-discovery" aria-hidden="true">#</a> \u81EA\u52D5\u5316\u670D\u52D9\u5075\u6E2C Auto Service Discovery</h3><p>\u900F\u904E\u9069\u7576\u7684\u670D\u52D9\u96C6\u6210\uFF0C\u5728\u90E8\u7F72\u670D\u52D9\u6642 traefik \u5C07\u80FD\u5920\u81EA\u52D5\u5075\u6E2C\u8A72\u90E8\u7F72\u670D\u52D9\uFF0C\u4E26\u63D0\u4F9B\u7CFB\u5217\u7684\u8DEF\u7531\u5C0E\u5411\u914D\u7F6E\uFF0C\u7121\u9700\u50CF\u50B3\u7D71\u908A\u7DE3\u8DEF\u7531\u5668\u90A3\u6A23\u624B\u52D5\u914D\u7F6E\u6BCF\u500B\u670D\u52D9\uFF0C\u800C\u7576\u670D\u52D9\u88AB\u79FB\u9664\u6642\uFF0C\u4E5F\u5C07\u81EA\u52D5\u79FB\u9664\u76F8\u95DC\u7684\u8DEF\u7531\u914D\u7F6E</p>',8),u=n("code",null,"Provider",-1),d={href:"https://doc.traefik.io/traefik/migration/v1-to-v2/#providers",target:"_blank",rel:"noopener noreferrer"},k=t(`<h2 id="\u914D\u7F6E\u4ECB\u7D39" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u4ECB\u7D39" aria-hidden="true">#</a> \u914D\u7F6E\u4ECB\u7D39</h2><p>\u8ACB\u5148\u770B\u4E0B\u9762\u9019\u5F35\u914D\u7F6E\u8AAA\u660E\u5716 <img src="https://doc.traefik.io/traefik/assets/img/static-dynamic-configuration.png" alt=""></p><p>Traefik \u914D\u7F6E\u4E3B\u8981\u5206\u70BA\u5169\u90E8\u5206</p><ul><li>\u555F\u52D5\u914D\u7F6E(Static Configuration): \u5305\u542B Provider, Entrypoints \u914D\u7F6E</li><li>\u52D5\u614B\u8DEF\u7531\u914D\u7F6E(Dynamic Configuration): \u5305\u542B\u6240\u6709\u8ACB\u6C42\u8655\u7406\u76F8\u95DC\u914D\u7F6E\uFF0C\u4E3B\u8981\u70BA Routers, Services, Middlewares, Certificates \u7B49\u90E8\u5206</li></ul><h2 id="\u555F\u52D5\u914D\u7F6E-static-configuration" tabindex="-1"><a class="header-anchor" href="#\u555F\u52D5\u914D\u7F6E-static-configuration" aria-hidden="true">#</a> \u555F\u52D5\u914D\u7F6E - Static Configuration</h2><p>\u5305\u542B\u4E09\u7A2E<code>\u4E92\u65A5</code>(\u53EA\u80FD\u540C\u6642\u4F7F\u7528\u4E00\u7A2E)\u7684\u914D\u7F6E\u65B9\u5F0F</p><ol><li>\u55AE\u4E00\u914D\u7F6E\u6A94\u6848</li><li>\u6307\u4EE4\u5217\u53C3\u6578\u914D\u7F6E</li><li>\u74B0\u5883\u8B8A\u6578\u914D\u7F6E</li></ol><h3 id="_1-\u55AE\u4E00\u914D\u7F6E\u6A94\u6848" tabindex="-1"><a class="header-anchor" href="#_1-\u55AE\u4E00\u914D\u7F6E\u6A94\u6848" aria-hidden="true">#</a> 1. \u55AE\u4E00\u914D\u7F6E\u6A94\u6848</h3><p>traefik \u555F\u52D5\u6642\u6703\u53BB\u4E0B\u5217\u8DEF\u5F91\u4E0A\u5C0B\u627E\u6A94\u6848 <code>traefik.yml</code>(\u6216\u662F <code>traefik.yaml</code>, <code>traefik.toml</code>)</p><ul><li><code>/etc/traefik/</code></li><li><code>$XDG_CONFIG_HOME/</code></li><li><code>$HOME/.config/</code></li><li><code>.</code>(Working directory)</li><li>\u900F\u904E <code>--configFile</code> \u8986\u84CB</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ traefik <span class="token parameter variable">--configFile</span><span class="token operator">=</span>foo/bar/myconfigfile.yml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,11),v={href:"https://doc.traefik.io/traefik/providers/docker/#provider-configuration",target:"_blank",rel:"noopener noreferrer"},m=t(`<div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">providers</span><span class="token punctuation">:</span>
  <span class="token key atrule">docker</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment"># \u9810\u8A2D</span>
  <span class="token comment"># or</span>
  <span class="token key atrule">docker</span><span class="token punctuation">:</span>
    <span class="token key atrule">endpoint</span><span class="token punctuation">:</span> <span class="token string">&quot;unix:///var/run/docker.sock&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u5C0D\u61C9\u914D\u7F6E\u4E00\u500B\u7BC4\u4F8B\u52D5\u614B\u8DEF\u7531\u5982\u4E0B</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">traefik</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> traefik<span class="token punctuation">:</span>v2.9 <span class="token comment"># The official v2 Traefik docker image</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token comment"># The HTTP port</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;80:80&quot;</span>
      <span class="token comment"># The Web UI (enabled by --api.insecure=true)</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;8080:8080&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token comment"># So that Traefik can listen to the Docker events</span>
      <span class="token punctuation">-</span> /var/run/docker.sock<span class="token punctuation">:</span>/var/run/docker.sock
  <span class="token key atrule">whoami</span><span class="token punctuation">:</span>
    <span class="token comment"># A container that exposes an API to show its IP address</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> traefik/whoami
    <span class="token key atrule">labels</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;traefik.http.routers.whoami.rule=Host(\`whoami.docker.localhost\`)&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-\u6307\u4EE4\u5217\u53C3\u6578\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-\u6307\u4EE4\u5217\u53C3\u6578\u914D\u7F6E" aria-hidden="true">#</a> 2. \u6307\u4EE4\u5217\u53C3\u6578\u914D\u7F6E</h3>`,4),h={href:"https://doc.traefik.io/traefik/reference/static-configuration/cli/",target:"_blank",rel:"noopener noreferrer"},b=n("code",null,"docker-compose",-1),f=t(`<div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">traefik</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> traefik<span class="token punctuation">:</span>v2.9
    <span class="token key atrule">command</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>accesslog
      <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>providers.docker
    <span class="token comment"># ...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-\u74B0\u5883\u8B8A\u6578\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-\u74B0\u5883\u8B8A\u6578\u914D\u7F6E" aria-hidden="true">#</a> 3. \u74B0\u5883\u8B8A\u6578\u914D\u7F6E</h3>`,2),y={href:"https://doc.traefik.io/traefik/reference/static-configuration/env/",target:"_blank",rel:"noopener noreferrer"},g=n("h2",{id:"\u52D5\u614B\u8DEF\u7531\u914D\u7F6E-routing-load-balancing-dynamic-configuration",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u52D5\u614B\u8DEF\u7531\u914D\u7F6E-routing-load-balancing-dynamic-configuration","aria-hidden":"true"},"#"),s(" \u52D5\u614B\u8DEF\u7531\u914D\u7F6E(Routing & Load Balancing) - Dynamic Configuration")],-1),_=n("p",null,[s("\u5927\u81F4\u4E0A\u8655\u7406\u8ACB\u6C42\u7684\u904E\u7A0B\u5982\u4E0B\u5716 "),n("img",{src:"https://doc.traefik.io/traefik/assets/img/architecture-overview.png",alt:""})],-1),q=n("p",null,"\u7576 Traefik \u88AB\u555F\u52D5\u6642\uFF0C\u5F9E\u6211\u5011\u5B9A\u7FA9\u7684 entrypoints \u9032\u5165\uFF0C\u63A5\u8457\u8DEF\u7531\u89E3\u6790\u4E26\u67E5\u627E\u662F\u5426\u6709\u8A72\u8ACB\u6C42\u5C0D\u61C9\u7684\u8DEF\u7531\u914D\u7F6E\u898F\u5247\uFF0C\u5982\u679C\u6709\u67E5\u627E\u5230\uFF0C\u5247\u5C07\u5957\u7528\u5C0D\u61C9\u8DEF\u7531\u914D\u7F6E\u4E2D\u7684\u4E00\u7CFB\u5217 middlewares \u57F7\u884C\uFF0C\u4E26\u6700\u7D42\u8F49\u767C\u8ACB\u6C42\u5230\u6307\u5B9A\u7684 Service \u670D\u52D9",-1),x={href:"https://doc.traefik.io/traefik/routing/overview/#clear-responsibilities",target:"_blank",rel:"noopener noreferrer"},T={href:"https://doc.traefik.io/traefik/providers/overview/",target:"_blank",rel:"noopener noreferrer"},w={href:"https://doc.traefik.io/traefik/routing/entrypoints/",target:"_blank",rel:"noopener noreferrer"},P={href:"https://doc.traefik.io/traefik/routing/routers/",target:"_blank",rel:"noopener noreferrer"},S={href:"https://doc.traefik.io/traefik/routing/services/",target:"_blank",rel:"noopener noreferrer"},H={href:"https://doc.traefik.io/traefik/middlewares/overview/",target:"_blank",rel:"noopener noreferrer"},C=t(`<h3 id="file-provider-\u52D5\u614B\u8DEF\u7531\u914D\u7F6E\u7BC4\u4F8B" tabindex="-1"><a class="header-anchor" href="#file-provider-\u52D5\u614B\u8DEF\u7531\u914D\u7F6E\u7BC4\u4F8B" aria-hidden="true">#</a> File Provider \u52D5\u614B\u8DEF\u7531\u914D\u7F6E\u7BC4\u4F8B</h3><p>\u6B64\u7BC4\u4F8B\u4E2D\u6211\u5011\u900F\u904E File Provider \u914D\u7F6E\u5C07 <code>http://example.com/whoami/</code> \u8F49\u767C\u5230 <code>http://private/whoami-service/</code></p><p>\u9996\u5148\u9032\u884C\u555F\u52D5\u914D\u7F6E</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">entryPoints</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token comment"># \u76E3\u807D\u5F9E 8081 \u9032\u4F86\u7684\u8ACB\u6C42</span>
    <span class="token key atrule">address</span><span class="token punctuation">:</span> <span class="token punctuation">:</span><span class="token number">8081</span>

<span class="token key atrule">providers</span><span class="token punctuation">:</span>
  <span class="token comment"># \u5141\u8A31\u900F\u904E file provider \u4F86\u9032\u884C\u52D5\u614B\u8DEF\u7531\u914D\u7F6E</span>
  <span class="token key atrule">file</span><span class="token punctuation">:</span>
    <span class="token key atrule">directory</span><span class="token punctuation">:</span> /path/to/dynamic/conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u63A5\u8457\u5728 <code>/path/to/dynamic/conf</code> \u4E2D\uFF0C\u5EFA\u7ACB\u4E00\u500B\u540D\u70BA <code>http.yml</code> \u7684\u914D\u7F6E\uFF08\u540D\u5B50\u53EF\u96A8\u610F\uFF09</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">http</span><span class="token punctuation">:</span>
  <span class="token key atrule">routers</span><span class="token punctuation">:</span>
    <span class="token key atrule">to-whoami</span><span class="token punctuation">:</span>
      <span class="token key atrule">rule</span><span class="token punctuation">:</span> <span class="token string">&quot;Host(\`example.com\`) &amp;&amp; PathPrefix(\`/whoami/\`)&quot;</span>
      <span class="token comment"># \u5982\u679C\u898F\u5247\u5C0D\u61C9\u6210\u529F, \u8F49\u767C\u5230 whoami service(\u5B9A\u7FA9\u5728\u4E0B\u65B9)</span>
      <span class="token key atrule">service</span><span class="token punctuation">:</span> whoami

  <span class="token key atrule">services</span><span class="token punctuation">:</span>
    <span class="token comment"># \u5B9A\u7FA9\u670D\u52D9\u5728\u7CFB\u7D71\u4E0A\u7684\u4F4D\u7F6E</span>
    <span class="token key atrule">whoami</span><span class="token punctuation">:</span>
      <span class="token key atrule">loadBalancer</span><span class="token punctuation">:</span>
        <span class="token key atrule">servers</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//private/whoami<span class="token punctuation">-</span>service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="entrypoints-\u652F\u63F4\u7684\u6240\u6709\u53C3\u6578" tabindex="-1"><a class="header-anchor" href="#entrypoints-\u652F\u63F4\u7684\u6240\u6709\u53C3\u6578" aria-hidden="true">#</a> Entrypoints \u652F\u63F4\u7684\u6240\u6709\u53C3\u6578</h3>`,7),I={href:"https://doc.traefik.io/traefik/routing/entrypoints/#configuration",target:"_blank",rel:"noopener noreferrer"},E=t(`<blockquote><p>\u9700\u6CE8\u610F\uFF0C\u9810\u8A2D\u60C5\u6CC1\u4E0B\uFF0C\u6C92\u6709\u63D0\u4F9B\u4EFB\u4F55 entrypoints \u7D66 traefik \u6642\uFF0C\u6703\u5957\u7528\u540D\u70BA <code>http</code> \u7684 entrypoint \u5728 80 port\uFF0C\u4F46\u5982\u679C\u6709\u660E\u78BA\u63D0\u4F9B\u4EFB\u4F55\u4E00\u500B entrypoint \u7D66 traefik \u5F8C\uFF0C\u6B64\u9810\u8A2D <code>http</code> \u7684 entrypoint \u5C07\u4E0D\u6703\u88AB\u5957\u7528\uFF0C\u5982\u679C\u4ECD\u7136\u9700\u8981\u4F7F\u7528\u9810\u8A2D\u7684 <code>80</code> port entrypoint \u5247\u9700\u8981\u624B\u52D5\u5C07\u5176\u52A0\u5165</p></blockquote><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment">## Static configuration</span>
<span class="token key atrule">entryPoints</span><span class="token punctuation">:</span>
  <span class="token key atrule">http</span><span class="token punctuation">:</span> <span class="token comment"># default</span>
    <span class="token key atrule">address</span><span class="token punctuation">:</span> <span class="token string">&quot;:80&quot;</span>
  <span class="token key atrule">https</span><span class="token punctuation">:</span>
    <span class="token key atrule">address</span><span class="token punctuation">:</span> <span class="token string">&quot;:443&quot;</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span>
    <span class="token key atrule">address</span><span class="token punctuation">:</span> <span class="token string">&quot;:8888&quot;</span> <span class="token comment"># same as &quot;:8888/tcp&quot;</span>
    <span class="token key atrule">http2</span><span class="token punctuation">:</span>
      <span class="token key atrule">maxConcurrentStreams</span><span class="token punctuation">:</span> <span class="token number">42</span>
    <span class="token key atrule">http3</span><span class="token punctuation">:</span>
      <span class="token key atrule">advertisedPort</span><span class="token punctuation">:</span> <span class="token number">8888</span>
    <span class="token key atrule">transport</span><span class="token punctuation">:</span>
      <span class="token key atrule">lifeCycle</span><span class="token punctuation">:</span>
        <span class="token key atrule">requestAcceptGraceTimeout</span><span class="token punctuation">:</span> <span class="token number">42</span>
        <span class="token key atrule">graceTimeOut</span><span class="token punctuation">:</span> <span class="token number">42</span>
      <span class="token key atrule">respondingTimeouts</span><span class="token punctuation">:</span>
        <span class="token key atrule">readTimeout</span><span class="token punctuation">:</span> <span class="token number">42</span>
        <span class="token key atrule">writeTimeout</span><span class="token punctuation">:</span> <span class="token number">42</span>
        <span class="token key atrule">idleTimeout</span><span class="token punctuation">:</span> <span class="token number">42</span>
    <span class="token key atrule">proxyProtocol</span><span class="token punctuation">:</span>
      <span class="token key atrule">insecure</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">trustedIPs</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">&quot;127.0.0.1&quot;</span>
        <span class="token punctuation">-</span> <span class="token string">&quot;192.168.0.1&quot;</span>
    <span class="token key atrule">forwardedHeaders</span><span class="token punctuation">:</span>
      <span class="token key atrule">insecure</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">trustedIPs</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">&quot;127.0.0.1&quot;</span>
        <span class="token punctuation">-</span> <span class="token string">&quot;192.168.0.1&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="https-tls" tabindex="-1"><a class="header-anchor" href="#https-tls" aria-hidden="true">#</a> HTTPS &amp; TLS</h2>`,3),L=n("code",null,"tls",-1),D={href:"https://doc.traefik.io/traefik/routing/routers/#tls",target:"_blank",rel:"noopener noreferrer"},A=t(`<ul><li>\u9650\u5236\u9032\u5165\u8ACB\u6C42\u53EA\u80FD\u70BA <code>https</code></li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment">## Dynamic configuration</span>
<span class="token key atrule">http</span><span class="token punctuation">:</span>
  <span class="token key atrule">routers</span><span class="token punctuation">:</span>
    <span class="token key atrule">my-https-router</span><span class="token punctuation">:</span>
      <span class="token key atrule">rule</span><span class="token punctuation">:</span> <span class="token string">&quot;Host(\`foo-domain\`) &amp;&amp; Path(\`/foo-path/\`)&quot;</span>
      <span class="token key atrule">service</span><span class="token punctuation">:</span> service<span class="token punctuation">-</span>id
      <span class="token comment"># will terminate the TLS request</span>
      <span class="token key atrule">tls</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u82E5\u9700\u8981\u540C\u6642\u652F\u63F4 http, https \u5247\u9700\u8981\u5BEB\u5169\u500B\u914D\u7F6E\uFF0C\u5176\u4E2D\u4E00\u500B\u52A0\u4E0A tls</li></ul><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">http</span><span class="token punctuation">:</span>
  <span class="token key atrule">routers</span><span class="token punctuation">:</span>
    <span class="token key atrule">my-https-router</span><span class="token punctuation">:</span>
      <span class="token key atrule">rule</span><span class="token punctuation">:</span> <span class="token string">&quot;Host(\`foo-domain\`) &amp;&amp; Path(\`/foo-path/\`)&quot;</span>
      <span class="token key atrule">service</span><span class="token punctuation">:</span> service<span class="token punctuation">-</span>id
      <span class="token comment"># will terminate the TLS request</span>
      <span class="token key atrule">tls</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token key atrule">my-http-router</span><span class="token punctuation">:</span>
      <span class="token key atrule">rule</span><span class="token punctuation">:</span> <span class="token string">&quot;Host(\`foo-domain\`) &amp;&amp; Path(\`/foo-path/\`)&quot;</span>
      <span class="token key atrule">service</span><span class="token punctuation">:</span> service<span class="token punctuation">-</span>id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function B(F,M){const a=o("ExternalLinkIcon");return l(),c("div",null,[r,n("blockquote",null,[n("p",null,[s("Traefik \u80FD\u5920\u4F7F\u7528\u60A8\u7684 Cluster API \u4F86\u767C\u73FE\u670D\u52D9\u4E26\u8B80\u53D6\u9644\u52A0\u4FE1\u606F\u3002 \u5728 Traefik \u4E2D\uFF0C\u9019\u4E9B\u9023\u63A5\u5668\u88AB\u7A31\u70BA "),u,s("\uFF0C\u56E0\u70BA\u5B83\u5011\u70BA Traefik \u63D0\u4F9B\u914D\u7F6E\u3002"),n("a",d,[s("\u9EDE\u6B64\u67E5\u770B\u6240\u6709\u652F\u63F4\u7684 Provider \u6E05\u55AE"),e(a)])])]),k,n("p",null,[s("\u9019\u908A\u4EE5 Provider Docker \u8209\u4F8B\u914D\u7F6E\u5982\u4E0B\uFF0C\u8A73\u7D30"),n("a",v,[s("\u914D\u7F6E\u65B9\u6CD5\u53EF\u898B\u9019\u908A"),e(a)])]),m,n("p",null,[s("\u53EF\u53C3\u8003\u9019\u908A"),n("a",h,[s("\u652F\u63F4\u7684\u53C3\u6578\u5217\u8868"),e(a)]),s("\uFF0C\u9019\u7A2E\u65B9\u5F0F\u5728\u914D\u7F6E "),b,s(" yaml file \u6642\u975E\u5E38\u65B9\u4FBF")]),f,n("p",null,[s("\u53EF\u53C3\u8003\u9019\u908A"),n("a",y,[s("\u652F\u63F4\u7684\u74B0\u5883\u8B8A\u6578\u5217\u8868"),e(a)])]),g,_,q,n("p",null,[s("\u5230\u6B64\u6211\u5011\u53EF\u4EE5\u7C21\u55AE\u91D0\u6E05\u4E0B\u500B\u90E8\u5206\u7684\u8077\u8CAC\uFF0C"),n("a",x,[s("\u53C3\u8003\u9023\u7D50"),e(a)]),s("\uFF1A")]),n("ul",null,[n("li",null,[n("a",T,[s("Provider"),e(a)]),s(": \u767C\u73FE\u57FA\u790E\u8A2D\u65BD\u4E0A\u7684\u670D\u52D9(IP, health)")]),n("li",null,[n("a",w,[s("Entrypoints"),e(a)]),s(": \u76E3\u807D\u50B3\u5165\u6D41\u91CF\uFF08ports\uFF09")]),n("li",null,[n("a",P,[s("Routers"),e(a)]),s(": \u5206\u6790\u8ACB\u6C42\uFF08host, path, headers, SSL\uFF09")]),n("li",null,[n("a",S,[s("Services"),e(a)]),s(": \u5C07\u8ACB\u6C42\u8F49\u767C\u7D66\u60A8\u7684\u670D\u52D9\uFF08load balancing\uFF09")]),n("li",null,[n("a",H,[s("Middlewares"),e(a)]),s(": \u53EF\u80FD\u6703\u66F4\u65B0\u8ACB\u6C42\u6216\u6839\u64DA\u8ACB\u6C42\u505A\u51FA\u6C7A\u5B9A\uFF08authentication, rate limiting, headers\uFF09")])]),C,n("p",null,[s("\u5167\u5BB9\u53EF\u80FD\u6703\u66F4\u65B0\uFF0C"),n("a",I,[s("\u53EF\u53C3\u8003\u9019\u908A"),e(a)])]),E,n("p",null,[s("\u5305\u542B\u5169\u90E8\u5206\u8A2D\u5B9A routers, TLS connection\uFF0C\u7576\u8DEF\u7531\u5668\u5FC5\u9808\u8655\u7406 HTTPS \u6D41\u91CF\u6642\uFF0C\u61C9\u4F7F\u7528\u8DEF\u7531\u5668\u5B9A\u7FA9\u7684 "),L,s(" \u5B57\u6BB5\u6307\u5B9A\uFF0C"),n("a",D,[s("\u8A73\u60C5\u53EF\u898B\u9019\u908A"),e(a)])]),A])}const O=i(p,[["render",B],["__file","traefik.html.vue"]]);export{O as default};
