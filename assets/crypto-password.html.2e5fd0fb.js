import{_ as o,r as i,o as p,c,b as n,a as e,d as s,e as t}from"./app.cb263abc.js";const r={},l=n("h1",{id:"crypto-\u5BC6\u78BC\u52A0\u5BC6\u65B9\u6CD5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#crypto-\u5BC6\u78BC\u52A0\u5BC6\u65B9\u6CD5","aria-hidden":"true"},"#"),s(" Crypto \u5BC6\u78BC\u52A0\u5BC6\u65B9\u6CD5")],-1),d={href:"https://cryptojs.gitbook.io/docs/",target:"_blank",rel:"noopener noreferrer"},u=s("CryptoJS"),v=t(`<p>\u524D\u7AEF\u5728\u50B3\u905E\u767B\u5165\u7B49\u5E33\u865F\u5BC6\u78BC\u8CC7\u8A0A\u6642\uFF0C\u82E5\u76F4\u63A5\u5C07\u7528\u6236\u7684\u5E33\u865F\u5BC6\u78BC\u986F\u793A\u5728 header \u4E2D\uFF0C\u6703\u6709\u5F88\u5927\u7684\u5B89\u5168\u98A8\u96AA\uFF0C\u9019\u7BC7\u63D0\u4F9B\u4E00\u500B\u57FA\u790E\u7684\u524D\u7AEF Crypto \u767B\u5165\u52A0\u5BC6\u65B9\u6CD5\uFF0C\u5BE6\u969B\u958B\u767C\u4E0A\u53EF\u6839\u64DA\u60C5\u6CC1\u9032\u884C\u66F4\u8907\u96DC\u7684\u8655\u7406\uFF0C\u96D6\u7136\u9019\u500B\u52A0\u5BC6\u6CD5\u4E5F\u53EA\u662F\u8B93 Network \u4E2D\u8F03\u96E3\u76F4\u63A5\u7372\u53D6\u660E\u78BC\u8CC7\u8A0A\uFF0C\u4F46\u4E5F\u662F\u4E00\u500B\u883B\u91CD\u8981\u7684\u57FA\u790E\u5B89\u5168\u512A\u5316\u6B65\u9A5F</p><h2 id="\u52A0\u5BC6\u904E\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u52A0\u5BC6\u904E\u7A0B" aria-hidden="true">#</a> \u52A0\u5BC6\u904E\u7A0B</h2><ol><li>prelogin \u7531 server \u63D0\u4F9B v1, v2</li></ol><p>\u524D\u7AEF\u8ACB\u6C42 prelogin \u5E36\u8457 id, account \u7D66\u5F8C\u7AEF\uFF0C\u5F8C\u7AEF\u6839\u64DA id, account \u751F\u6210\u5C0D\u61C9\u7684 v1, v2 \u5B57\u4E32(\u7522\u751F\u904E\u7A0B\u5C31\u6839\u64DA\u5B89\u5168\u6027\u8981\u6C42\u9032\u884C)</p><h4 id="request" tabindex="-1"><a class="header-anchor" href="#request" aria-hidden="true">#</a> Request</h4><div class="language-json= ext-json= line-numbers-mode"><pre class="language-json="><code>{
    &quot;account&quot;: &quot;aaa&quot;
    &quot;format&quot;: &quot;json&quot;
    &quot;id&quot;: 1652864874683
    &quot;app_id&quot;: 10100
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="response" tabindex="-1"><a class="header-anchor" href="#response" aria-hidden="true">#</a> Response</h4><div class="language-json= ext-json= line-numbers-mode"><pre class="language-json="><code>{
    &quot;account&quot;: &quot;aaa&quot;
    &quot;id&quot;: &quot;1652864874683&quot;
    &quot;v1&quot;: &quot;UjKNzjDe&quot;
    &quot;v2&quot;: &quot;4nnizi8FVFAYs5w2&quot;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u524D\u7AEF\u6839\u64DA v1, v2 \u52A0\u5BC6</li></ol>`,9),h=s("\u524D\u7AEF\u6839\u64DA v1, v2 \u5B57\u4E32\uFF0C\u4EE5 "),k=n("code",null,"CryptoJS",-1),b=s(" \u52A0\u5BC6\uFF0C\u7BC4\u4F8B\u4E2D\u5148\u5C07\u539F\u5BC6\u78BC\u8F49\u70BA Hash MD5\uFF0C\u63A5\u8005\u52A0\u5165server \u7D66\u7684 v1, v2 \u5B57\u4E32\uFF0C\u8B93\u6B64\u6B21\u767B\u5165\u5BC6\u78BC\u8B8A\u70BA\u552F\u4E00 secret\uFF0C\u63A5\u8457\u518D\u7528\u525B\u525B\u7522\u751F\u7684 secret \u4EE5 "),m={href:"https://zh.wikipedia.org/wiki/%E9%AB%98%E7%BA%A7%E5%8A%A0%E5%AF%86%E6%A0%87%E5%87%86",target:"_blank",rel:"noopener noreferrer"},q=s("AES \u5C0D\u7A31\u52A0\u5BC6"),_=s(" \u5C0D Hashed Md5 \u5BC6\u78BC\u52A0\u5BC6\uFF0C\u63A1\u7528\u57FA\u672C\u7684"),g={href:"https://zh.wikipedia.org/zh-tw/%E5%88%86%E7%BB%84%E5%AF%86%E7%A0%81%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},y=s("\u96FB\u5B50\u5BC6\u78BC\u672C\uFF08ECB\uFF09\u6A21\u5F0F"),f=s("\uFF0C\u6700\u5F8C\u518D\u5F9E\u52A0\u5BC6\u5F8C\u7684\u7D50\u679C\u4E2D parse \u51FA\u5B57\u4E32\u72C0\u614B"),S=t(`<blockquote><p>\u6CE8\u610F\uFF0C\u9810\u8A2D CryptoJS \u63A1\u7528\u7684\u662F CBC mode \u52A0\u5BC6\uFF0C\u6BD4\u8D77 ECB \u76F8\u5C0D\u8F03\u5B89\u5168\uFF0C\u672C\u6587\u50C5\u70BA\u793A\u7BC4\u4F7F\u7528</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">encryptCryptoJS</span><span class="token punctuation">(</span><span class="token parameter">password<span class="token punctuation">,</span> v1<span class="token punctuation">,</span> v2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> passwordMd5 <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">MD5</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> passwordKey <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">SHA256</span><span class="token punctuation">(</span>
        CryptoJS<span class="token punctuation">.</span><span class="token constant">SHA256</span><span class="token punctuation">(</span>passwordMd5 <span class="token operator">+</span> v1<span class="token punctuation">)</span> <span class="token operator">+</span> v2
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> encryptedPassword <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span><span class="token constant">AES</span><span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>
        passwordMd5<span class="token punctuation">,</span>
        passwordKey<span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">mode</span><span class="token operator">:</span> CryptoJS<span class="token punctuation">.</span>mode<span class="token punctuation">.</span><span class="token constant">ECB</span><span class="token punctuation">,</span>
          <span class="token literal-property property">padding</span><span class="token operator">:</span> CryptoJS<span class="token punctuation">.</span>pad<span class="token punctuation">.</span>NoPadding
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    encryptedPassword <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Base64<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>
        encryptedPassword<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Hex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> encryptedPassword<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>login \u50B3\u905E\u5E33\u865F\u548C\u52A0\u5BC6\u5F8C\u7684\u5BC6\u78BC</li></ol><p>\u5C07\u524D\u9762 parse \u51FA\u4F86\u7684\u5BC6\u78BC\u653E\u5165\u771F\u6B63\u7684 login \u8ACB\u6C42\uFF0C\u5F8C\u7AEF\u5C07\u6839\u64DA\u76F8\u4F3C\u6B65\u9A5F\u89E3\u6790\uFF0C\u9019\u9EBC\u4E00\u4F86\u5728\u6211\u5011\u7684 Network \u4E2D\u5C31\u4E0D\u6703\u76F4\u63A5\u770B\u5230 password \u4E86~</p><div class="language-json= ext-json= line-numbers-mode"><pre class="language-json="><code>{
    &quot;account&quot;: &quot;aaa&quot;
    &quot;password&quot;: &quot;29867ad1117073713a5c22c2e411d3fe&quot;
    &quot;redirect_uri&quot;: &quot;xxxxx&quot;
    &quot;format&quot;: &quot;json&quot;
    &quot;id&quot;: 1652864874798
    &quot;app_id&quot;: 10100
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B78\u7FD2" tabindex="-1"><a class="header-anchor" href="#\u5B78\u7FD2" aria-hidden="true">#</a> \u5B78\u7FD2</h2><h3 id="md5-\u8A0A\u606F\u6458\u8981\u6F14\u7B97\u6CD5" tabindex="-1"><a class="header-anchor" href="#md5-\u8A0A\u606F\u6458\u8981\u6F14\u7B97\u6CD5" aria-hidden="true">#</a> MD5 \u8A0A\u606F\u6458\u8981\u6F14\u7B97\u6CD5</h3><p><code>MD5 Hex String</code>\uFF0C\u672C\u8EAB\u5C31\u662F\u4E00\u7A2E\u6F14\u7B97\u6CD5\uFF0C\u80FD\u5920\u5C07\u4E0D\u8AD6\u591A\u9577\u7684\u5B57\u4E32\u5167\u5BB9\u7D71\u4E00\u8F49\u70BA 128bit(16bytes) \u7684 Hash \u96DC\u6E4A\u503C\uFF0C\u7528\u65BC\u78BA\u4FDD\u8CC7\u8A0A\u50B3\u8F38\u5B8C\u6574\u4E00\u81F4</p><h4 id="\u512A\u9EDE" tabindex="-1"><a class="header-anchor" href="#\u512A\u9EDE" aria-hidden="true">#</a> \u512A\u9EDE</h4><ul><li>\u65B9\u4FBF\u4F7F\u7528</li><li>\u4E00\u5B9A\u7BC4\u570D\u60C5\u6CC1\u4E0B\uFF0C\u53EF\u78BA\u4FDD\u8CC7\u6599\u50B3\u8F38\u6B63\u78BA\u6027</li></ul><h4 id="\u7F3A\u9EDE" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u9EDE" aria-hidden="true">#</a> \u7F3A\u9EDE</h4><ul><li>\u56E0\u70BA\u591A\u7D44\u5B57\u4E32\u6709\u53EF\u80FD\u8F49\u63DB\u70BA\u76F8\u540C MD5 Hash\uFF0C\u5B58\u5728\u78B0\u649E\u653B\u64CA\u7591\u616E\uFF0C\u4E0D\u9069\u5408\u7528\u5728\u5B89\u5168\u6027\u8A8D\u8B49</li></ul><h3 id="aes-\u9032\u968E\u52A0\u5BC6\u6A19\u6E96-\u5C0D\u7A31\u52A0\u5BC6" tabindex="-1"><a class="header-anchor" href="#aes-\u9032\u968E\u52A0\u5BC6\u6A19\u6E96-\u5C0D\u7A31\u52A0\u5BC6" aria-hidden="true">#</a> AES \u9032\u968E\u52A0\u5BC6\u6A19\u6E96(\u5C0D\u7A31\u52A0\u5BC6)</h3><p>\u7528\u4F86\u66FF\u4EE3\u820A\u7684 DES \u52A0\u5BC6</p><h4 id="\u512A\u9EDE-1" tabindex="-1"><a class="header-anchor" href="#\u512A\u9EDE-1" aria-hidden="true">#</a> \u512A\u9EDE</h4><ul><li>\u5B89\u5168\u6027\u9AD8</li><li>\u7F8E\u570B\u653F\u5E9C\u8A8D\u53EF\u7684\u6A5F\u5BC6\u6587\u4EF6\u52A0\u5BC6\u898F\u7BC4</li></ul><h4 id="\u7F3A\u9EDE-1" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u9EDE-1" aria-hidden="true">#</a> \u7F3A\u9EDE</h4><ul><li>\u6A5F\u7387\u96D6\u7136\u975E\u5E38\u4F4E\uFF0C\u4F46\u66FE\u88AB\u7834\u89E3\u7684\u65B9\u5F0F\u70BA <code>Side-channel attack</code>\uFF0C\u6216\u662F<code>\u4E2D\u9593\u4EBA\u653B\u64CA</code></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ openssl aes-256-cbc -in <span class="token operator">&lt;</span>input<span class="token operator">&gt;</span> -out <span class="token operator">&lt;</span>output<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="sha2-secure-hash-algorithm-2" tabindex="-1"><a class="header-anchor" href="#sha2-secure-hash-algorithm-2" aria-hidden="true">#</a> SHA2 - Secure Hash Algorithm 2</h3><p>\u5176\u4E0B\u53C8\u53EF\u518D\u5206\u70BA\u516D\u500B\u4E0D\u540C\u7684\u6F14\u7B97\u6CD5\u6A19\u6E96\uFF0CSHA-224\u3001SHA-256\u3001SHA-384\u3001SHA-512\u3001SHA-512/224\u3001SHA-512/256</p>`,21);function x(w,A){const a=i("ExternalLinkIcon");return p(),c("div",null,[l,n("ul",null,[n("li",null,[n("a",d,[u,e(a)])])]),v,n("p",null,[h,k,b,n("a",m,[q,e(a)]),_,n("a",g,[y,e(a)]),f]),S])}var C=o(r,[["render",x],["__file","crypto-password.html.vue"]]);export{C as default};
