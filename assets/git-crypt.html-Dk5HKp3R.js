import{_ as a,c as s,d as i,o as n}from"./app-D-cMtdvj.js";const t={};function l(r,e){return n(),s("div",null,e[0]||(e[0]=[i(`<h1 id="git-crypt-使用筆記" tabindex="-1"><a class="header-anchor" href="#git-crypt-使用筆記"><span>Git Crypt 使用筆記</span></a></h1><h2 id="安裝" tabindex="-1"><a class="header-anchor" href="#安裝"><span>安裝</span></a></h2><ul><li>MacOS</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">$ brew <span class="token function">install</span> git-crypt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Windows(<a href="https://gitee.com/pharaoh/git-crypt-win" target="_blank" rel="noopener noreferrer">下載 git-crypt.exe</a>)</li></ul><h2 id="使用步驟" tabindex="-1"><a class="header-anchor" href="#使用步驟"><span>使用步驟</span></a></h2><ol><li>初始化</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">$ git-crypt init</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>查看加密狀態</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">$ git-crypt status</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li><code>.gitattributes</code> 指定加密文件</li></ol><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">secret.properties filter=git-crypt diff=git-crypt</span>
<span class="line">**/secret/** filter=git-crypt diff=git-crypt</span>
<span class="line">*.crt filter=git-crypt diff=git-crypt</span>
<span class="line">*.key filter=git-crypt diff=git-crypt</span>
<span class="line">*.pem filter=git-crypt diff=git-crypt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>添加到 <code>.gitattributes</code> 之前，提交的紀錄中機密檔案並不會被加密，請確保在提交機密內容前添加到 gitattributes 中</p></blockquote><ol start="4"><li>建立機密檔案 <code>secret.properties</code> 並提交，此時本地仍然可以正常看到解密後的內容，但透過 <code>git-crypt status</code> 會顯示為 <code>encrypted: secret.properties</code></li></ol><div class="language-env line-numbers-mode" data-highlighter="prismjs" data-ext="env"><pre><code class="language-env"><span class="line">mysql.ip=locahost</span>
<span class="line">mysql.port=3306</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>匯出 git-crypt 的 key 另外保存，以利後續共享給專案成員解密使用</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">$ git-crypt export-key git-crypt.key</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="6"><li><p>將 <code>git-crypt.key</code> 檔案加入 <code>.gitignore</code> 中避免誤將 key 上傳</p></li><li><p>解鎖 clone 下來的專案內容 (從協作者那取得 git-crypt.key)，解鎖後，使用的 key 會被複製一份存放在 <code>.git/git-crypt/keys/default</code> 中</p></li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">$ git-crypt unlock ./git-crypt.key</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,19)]))}const d=a(t,[["render",l]]),p=JSON.parse('{"path":"/articles/git/git-crypt.html","title":"Git Crypt 使用筆記","lang":"zh-TW","frontmatter":{},"git":{"updatedTime":1748788505000,"contributors":[{"name":"johnnywang","username":"johnnywang","email":"johnnywang@test.com","commits":2,"url":"https://github.com/johnnywang"},{"name":"Lindy Liao","username":"","email":"meiliao1207@gmail.com","commits":1}],"changelog":[{"hash":"f01bfa128b4d33fbeddb8abb1697b5391b273d28","time":1748788505000,"email":"meiliao1207@gmail.com","author":"Lindy Liao","message":"UPD"},{"hash":"ba4e5e236bbdb98e523597f41df23e23bee53ad6","time":1747830282000,"email":"johnnywang@test.com","author":"johnnywang","message":"UPD: update references"},{"hash":"0948f04970489d5f555164f01efec10f77f89974","time":1739535172000,"email":"johnnywang@test.com","author":"johnnywang","message":"UPD: add articles"}]},"filePathRelative":"articles/git/git-crypt.md"}');export{d as comp,p as data};
