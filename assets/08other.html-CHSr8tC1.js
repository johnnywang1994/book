import{_ as a,c as n,d as e,o as l}from"./app-aytLpXyP.js";const p={};function i(t,s){return l(),n("div",null,s[0]||(s[0]=[e(`<h1 id="其他常用技巧、指令" tabindex="-1"><a class="header-anchor" href="#其他常用技巧、指令"><span>其他常用技巧、指令</span></a></h1><p>此為持續更新的學習筆記紀錄，關於基礎的部分請前往前面章節閱讀</p><h2 id="字串" tabindex="-1"><a class="header-anchor" href="#字串"><span>字串</span></a></h2><h3 id="隨機字串" tabindex="-1"><a class="header-anchor" href="#隨機字串"><span>隨機字串</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 8 位字串</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token environment constant">$RANDOM</span> <span class="token operator">|</span> md5sum <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-c</span> <span class="token number">1</span>-8</span>
<span class="line"><span class="token comment"># or for MacOS</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token environment constant">$RANDOM</span> <span class="token operator">|</span> md5 <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-c</span> <span class="token number">1</span>-8</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 8 位數字</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token environment constant">$RANDOM</span> <span class="token operator">|</span> <span class="token function">cksum</span> <span class="token operator">|</span><span class="token function">cut</span> <span class="token parameter variable">-c</span> <span class="token number">1</span>-8</span>
<span class="line"><span class="token comment"># 0-9</span></span>
<span class="line"><span class="token builtin class-name">echo</span> <span class="token assign-left variable">random</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>RANDOM <span class="token operator">%</span> <span class="token number">10</span><span class="token variable">))</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># uuid</span></span>
<span class="line">uuidgen</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="壓縮-json-檔" tabindex="-1"><a class="header-anchor" href="#壓縮-json-檔"><span>壓縮 json 檔</span></a></h3><p>其實不算是 bash，透過一行 python 達成</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">python <span class="token parameter variable">-c</span> <span class="token string">&#39;import json, sys;json.dump(json.load(sys.stdin), sys.stdout)&#39;</span> <span class="token operator">&lt;</span> index.json</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="日期" tabindex="-1"><a class="header-anchor" href="#日期"><span>日期</span></a></h2><h3 id="當前時間" tabindex="-1"><a class="header-anchor" href="#當前時間"><span>當前時間</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token assign-left variable">DATE</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%F_%T<span class="token variable">)</span></span></span>
<span class="line"><span class="token comment"># 2022-12-06_11:50:17</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="變數" tabindex="-1"><a class="header-anchor" href="#變數"><span>變數</span></a></h2><h3 id="檢查變數值為空" tabindex="-1"><a class="header-anchor" href="#檢查變數值為空"><span>檢查變數值為空</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">  <span class="token builtin class-name">echo</span> <span class="token string">&quot;empty&quot;</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="運算" tabindex="-1"><a class="header-anchor" href="#運算"><span>運算</span></a></h2><ul><li><a href="https://blog.gtwang.org/linux/linux-bc-command-tutorial-examples/" target="_blank" rel="noopener noreferrer">計算機 bc 指令</a></li></ul><h3 id="取得小數運算" tabindex="-1"><a class="header-anchor" href="#取得小數運算"><span>取得小數運算</span></a></h3><p>hero 字符串</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">bc</span> <span class="token parameter variable">-l</span> <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;100/3&quot;</span></span>
<span class="line"><span class="token comment"># 33.33333333333333333333</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>pipeline 傳遞</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;100/3&quot;</span> <span class="token operator">|</span> <span class="token function">bc</span> <span class="token parameter variable">-l</span></span>
<span class="line"><span class="token comment"># 33.33333333333333333333</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="查詢" tabindex="-1"><a class="header-anchor" href="#查詢"><span>查詢</span></a></h2><h3 id="查詢歷史" tabindex="-1"><a class="header-anchor" href="#查詢歷史"><span>查詢歷史</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">history</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;echo&quot;</span> <span class="token operator">|</span> <span class="token function">less</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="查詢-macbook-ip" tabindex="-1"><a class="header-anchor" href="#查詢-macbook-ip"><span>查詢 macbook ip</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">ifconfig</span> en0 <span class="token operator">|</span> <span class="token function">grep</span> inet <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span> <span class="token operator">|</span> <span class="token function">tail</span> <span class="token parameter variable">-1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="檔案" tabindex="-1"><a class="header-anchor" href="#檔案"><span>檔案</span></a></h2><h3 id="檔案存在且大小大於-0-備份" tabindex="-1"><a class="header-anchor" href="#檔案存在且大小大於-0-備份"><span>檔案存在且大小大於 0 備份</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token assign-left variable">DATE</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%F_%T<span class="token variable">)</span></span></span>
<span class="line"><span class="token assign-left variable">USER_FILE</span><span class="token operator">=</span>user.txt</span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-s</span> <span class="token variable">$USER_FILE</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">  <span class="token function">mv</span> <span class="token variable">$USER_FILE</span> <span class="token variable">\${USER_FILE}</span>-<span class="token variable">\${DATE}</span>.bak</span>
<span class="line">  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$USER_FILE</span> exist, rename to <span class="token variable">\${USER_FILE}</span>-<span class="token variable">\${DATE}</span>.bak&quot;</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="檢查檔案是否為軟連結-symbolic-link" tabindex="-1"><a class="header-anchor" href="#檢查檔案是否為軟連結-symbolic-link"><span>檢查檔案是否為軟連結（symbolic link</span></a></h3><p>指令 <code>ls -l</code> 返回結果中檔案開頭為 <code>l</code> 的就是軟連結</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">ls</span> <span class="token parameter variable">-l</span> ./java</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="查詢當前資料夾內是軟連結的檔案" tabindex="-1"><a class="header-anchor" href="#查詢當前資料夾內是軟連結的檔案"><span>查詢當前資料夾內是軟連結的檔案</span></a></h3><p>會遞迴往下層尋找</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> l <span class="token parameter variable">-ls</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>只尋找當前位置一層</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-maxdepth</span> <span class="token number">1</span> <span class="token parameter variable">-type</span> l <span class="token parameter variable">-ls</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="刪除軟連結" tabindex="-1"><a class="header-anchor" href="#刪除軟連結"><span>刪除軟連結</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">unlink symbolic_link</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="輸出" tabindex="-1"><a class="header-anchor" href="#輸出"><span>輸出</span></a></h2><h3 id="dev-null-無底洞" tabindex="-1"><a class="header-anchor" href="#dev-null-無底洞"><span>&amp;&gt;/dev/null 無底洞</span></a></h3><ul><li><a href="https://www.796t.com/content/1550134446.html" target="_blank" rel="noopener noreferrer">參考</a></li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token keyword">for</span> <span class="token for-or-select variable">USER</span> <span class="token keyword">in</span> user<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token function">id</span> <span class="token environment constant">$USER</span> <span class="token operator">&amp;&gt;</span>/dev/null<span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token environment constant">$USER</span> User already exists!&quot;</span></span>
<span class="line">  <span class="token keyword">else</span></span>
<span class="line">    <span class="token assign-left variable">PASS</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token environment constant">$RANDOM</span> <span class="token operator">|</span> md5 <span class="token operator">|</span><span class="token function">cut</span> <span class="token parameter variable">-c</span> <span class="token number">1</span>-8<span class="token variable">)</span></span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token variable">$PASS</span></span>
<span class="line">  <span class="token keyword">fi</span></span>
<span class="line"><span class="token keyword">done</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="輸出-ls-為-json-格式" tabindex="-1"><a class="header-anchor" href="#輸出-ls-為-json-格式"><span>輸出 ls 為 json 格式</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">ls</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $0&quot;,&quot;}&#39;</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print &quot;[&quot;$0&quot;]&quot;}&#39;</span> <span class="token operator">&gt;</span> index</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="函數" tabindex="-1"><a class="header-anchor" href="#函數"><span>函數</span></a></h2><h3 id="加總" tabindex="-1"><a class="header-anchor" href="#加總"><span>加總</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># sumlist 1 2 3 =&gt; 6</span></span>
<span class="line"><span class="token function-name function">sumlist</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin class-name">local</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">0</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token for-or-select variable">num</span> <span class="token keyword">in</span> <span class="token variable">$@</span><span class="token punctuation">;</span> <span class="token keyword">do</span></span>
<span class="line">    <span class="token variable"><span class="token punctuation">((</span> count<span class="token operator">+=</span>$num <span class="token punctuation">))</span></span></span>
<span class="line">  <span class="token keyword">done</span></span>
<span class="line">  <span class="token builtin class-name">echo</span> <span class="token variable">$count</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="取小數位" tabindex="-1"><a class="header-anchor" href="#取小數位"><span>取小數位</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># parseFloat 10/2 =&gt; 5.00</span></span>
<span class="line"><span class="token comment"># parseFloat 10/2 0 =&gt; 5</span></span>
<span class="line"><span class="token comment"># parseFloat 10/3 3 =&gt; 3.333</span></span>
<span class="line"><span class="token function-name function">parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token builtin class-name">local</span> <span class="token assign-left variable">user_float</span><span class="token operator">=</span><span class="token variable">$2</span></span>
<span class="line">  <span class="token builtin class-name">local</span> <span class="token assign-left variable">float</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${user_float<span class="token operator">:-</span>2}</span>&quot;</span></span>
<span class="line">  <span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;scale=<span class="token variable">$float</span>;<span class="token variable">$1</span>&quot;</span> <span class="token operator">|</span> <span class="token function">bc</span> <span class="token parameter variable">-l</span><span class="token variable">)</span></span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,50)]))}const o=a(p,[["render",i]]),r=JSON.parse('{"path":"/articles/memo/bash/08other.html","title":"其他常用技巧、指令","lang":"zh-TW","frontmatter":{},"git":{"updatedTime":1748788505000,"contributors":[{"name":"johnnywang","username":"johnnywang","email":"johnnywang@test.com","commits":1,"url":"https://github.com/johnnywang"},{"name":"Lindy Liao","username":"","email":"meiliao1207@gmail.com","commits":1}],"changelog":[{"hash":"f01bfa128b4d33fbeddb8abb1697b5391b273d28","time":1748788505000,"email":"meiliao1207@gmail.com","author":"Lindy Liao","message":"UPD"},{"hash":"0e2c4777b518ee7ff86eb7a1e6d42507f3a0a59c","time":1670481440000,"email":"johnnywang@test.com","author":"johnnywang","message":"UPD: update memo"}]},"filePathRelative":"articles/memo/bash/08other.md"}');export{o as comp,r as data};
