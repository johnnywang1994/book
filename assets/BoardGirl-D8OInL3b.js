import{_ as S,m as C,p as q,q as $,h as B,l as E,c as l,o as n,s as L,F as u,g as f,b as a,v,x as M,t as V,e as F,y as G,n as P,z as R,A as y,j as A}from"./app-DZhdvvpJ.js";const D={key:0,class:"assist-list"},H=["onClick"],I=["src","alt"],N={key:1,class:"panel"},O=["value"],T={class:"panel"},U={__name:"BoardGirl",props:{position:{type:String,default:"fixed"},size:{type:String,default:"auto"}},setup(_){const w=_,c=C(),r=q(),p="https://johnnywang1994.github.io/assets/live2d",e=$({open:!1,scale:1,assist:"",project:"",assists:{demo:["Hiyori","Rice"],"girls-frontline":["Aa12_2403","G41","Generalliu_5101","Hk416_3401","Js9mm_4702","K2_3301","Kp31_1103","M4Sopmod_ii_4507","Mk23_3105","Ots14_4501","Pa15_3701","Spitfire_1405"],"girls-cafe-gun":["0202upd__l2d_345.u","0202upd__l2d_349.u","0911upd__l2d_344.u","0925upd__l2d_365.u","10qpt01__l2d_355.u","12qpt03__l2d_376.u","28__l2d_119.u","47__l2d_200.u","47__l2d_202.u","47__l2d_203.u","724upd__l2d_388.u","724upd__l2d_389.u","9qpt01__l2d_326.u","g10_l2d08.u","g12_l2d00.u","g12_l2d01.u","g12_l2d02.u","g1_l2d00.u","g1_l2d03.u","g1_l2d04.u","g1_l2d8002.u","g2_l2d17.u","g2_l2d5017.u","g3_l2d04.u","g3_l2d22.u","g3_l2d24.u","g5_l2d03.u","g6_l2d03.u","g7_l2d03.u","g8_l2d03.u","g9_l2d00.u","l2d4__l2d_182.u","l2d6__l2d_184.u","newg01__l2d_296.u","swg02__l2d_292.u"],"azue-lane":["daofeng_4","dujiaoshou_4","lafei","taiyuan_2","z46_2"],"unknow-brige":["c_3012","c_3023","c_3033","c_3112","c_3123","c_3131","c_3223","c_3231","c_3312","c_3321","c_3323","c_3412","c_5021","c_5131"],sin:["xch006_01","xch013_01","xch016_01","xco005a_01","xco009_01","xco011_01","xco013_01","xco017_01","xco025_01"]},projects:["demo","girls-frontline","girls-cafe-gun","azue-lane","unknow-brige","sin"]}),b=B(()=>e.project?e.assists[e.project]:[]),k=o=>`${p}/${e.project}/head/${o}.png`;async function g(){e.open=!e.open,e.open&&(await y(),h(),c.replace({path:"/live2d/",query:{project:e.project,assist:e.assist}}))}async function x(){c.replace({query:null}),window.history.replaceState(null,"","/book"+r.fullPath.split("?")[0]),window.location.reload()}function h(){const{onload:o,onbeforeunload:t,onresize:s,setScale:i}=window.Live2d({el:"#board-girl",size:w.size,quality:2,resourcesPath:`${p}/${e.project}/`,modelDir:[e.assist],bindFullscreen:!0});o(),window.addEventListener("beforeunload",t),window.addEventListener("resize",s),A(()=>e.scale,d=>{i(d)})}function j(){return new Promise(o=>{const t="live2dcubis";document.getElementById(t)&&o();const s=document.createElement("script"),i=document.createElement("script");s.id=t;let d=0;const m=()=>{d++,d===2&&o()};s.onload=m(),i.onload=m(),s.src="/book/live2dcubismcore.min.js",i.src="/book/live2d-bundle-v1.0.js",document.head.appendChild(s),document.head.appendChild(i)})}async function z(){const{project:o,assist:t}=r.query;await j(),e.assists[o]&&e.assists[o].includes(t)&&(e.project=o,e.assist=t,await y(),g())}return E(()=>{z()}),(o,t)=>(n(),l("div",{style:R(`position: ${_.position}`),class:P(["board-wrapper",_.position,e.assist])},[e.open?L("",!0):(n(),l("div",D,[(n(!0),l(u,null,f(b.value,s=>(n(),l("div",{key:`assist_${s}`,onClick:()=>{e.assist=s,g()}},[a("img",{src:k(s),alt:s},null,8,I)],8,H))),128))])),e.open?(n(),l(u,{key:2},[t[4]||(t[4]=a("canvas",{id:"board-girl"},null,-1)),a("div",T,[t[2]||(t[2]=F(" Scale",-1)),v(a("input",{type:"range",min:"0.5",max:"3.5",step:"0.1","onUpdate:modelValue":t[1]||(t[1]=s=>e.scale=s)},null,512),[[G,e.scale]]),t[3]||(t[3]=a("br",null,null,-1)),a("div",{class:"call-assist",onClick:x}," Clear ")])],64)):(n(),l("div",N,[v(a("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.project=s)},[(n(!0),l(u,null,f(e.projects,s=>(n(),l("option",{key:`project_${s}`,value:s},V(s),9,O))),128))],512),[[M,e.project]])]))],6))}},J=S(U,[["__scopeId","data-v-aa730bcc"]]);export{J as default};
