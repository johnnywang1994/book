import{_ as O,m as S,p as h,q as z,i as B,l as q,o as n,c as i,v as g,x as C,b as l,F as m,h as L,y as P,e as V,z as F,A as U,n as A,B as f,w as E,t as R}from"./app-SzYbZUl3.js";const D={__name:"BoardGirl",props:{position:{type:String,default:"fixed"},size:{type:String,default:"auto"}},setup(v,{expose:s}){s();const _=v,t=S(),u=h(),p="https://johnnywang1994.github.io/assets/live2d",e=z({open:!1,scale:1,assist:"",project:"",assists:{demo:["Hiyori","Rice"],"girls-frontline":["Aa12_2403","G41","Generalliu_5101","Hk416_3401","Js9mm_4702","K2_3301","Kp31_1103","M4Sopmod_ii_4507","Mk23_3105","Ots14_4501","Pa15_3701","Spitfire_1405"],"girls-cafe-gun":["0202upd__l2d_345.u","0202upd__l2d_349.u","0911upd__l2d_344.u","0925upd__l2d_365.u","10qpt01__l2d_355.u","12qpt03__l2d_376.u","28__l2d_119.u","47__l2d_200.u","47__l2d_202.u","47__l2d_203.u","724upd__l2d_388.u","724upd__l2d_389.u","9qpt01__l2d_326.u","g10_l2d08.u","g12_l2d00.u","g12_l2d01.u","g12_l2d02.u","g1_l2d00.u","g1_l2d03.u","g1_l2d04.u","g1_l2d8002.u","g2_l2d17.u","g2_l2d5017.u","g3_l2d04.u","g3_l2d22.u","g3_l2d24.u","g5_l2d03.u","g6_l2d03.u","g7_l2d03.u","g8_l2d03.u","g9_l2d00.u","l2d4__l2d_182.u","l2d6__l2d_184.u","newg01__l2d_296.u","swg02__l2d_292.u"],"azue-lane":["daofeng_4","dujiaoshou_4","lafei","taiyuan_2","z46_2"],"unknow-brige":["c_3012","c_3023","c_3033","c_3112","c_3123","c_3131","c_3223","c_3231","c_3312","c_3321","c_3323","c_3412","c_5021","c_5131"],sin:["xch006_01","xch013_01","xch016_01","xco005a_01","xco009_01","xco011_01","xco013_01","xco017_01","xco025_01"]},projects:["demo","girls-frontline","girls-cafe-gun","azue-lane","unknow-brige","sin"]}),G=B(()=>e.project?e.assists[e.project]:[]);async function w(){e.open=!e.open,e.open&&(await f(),y(),t.replace({query:{project:e.project,assist:e.assist}}))}async function M(){t.replace({query:null}),window.history.replaceState(null,"","/book"+u.fullPath.split("?")[0]),window.location.reload()}function y(){const{onload:o,onbeforeunload:a,onresize:d,setScale:r}=window.Live2d({el:"#board-girl",size:_.size,quality:2,resourcesPath:`${p}/${e.project}/`,modelDir:[e.assist],bindFullscreen:!0});o(),window.addEventListener("beforeunload",a),window.addEventListener("resize",d),E(()=>e.scale,c=>{r(c)})}function b(){return new Promise(o=>{const a="live2dcubis";document.getElementById(a)&&o();const d=document.createElement("script"),r=document.createElement("script");d.id=a;let c=0;const k=()=>{c++,c===2&&o()};d.onload=k(),r.onload=k(),d.src="/book/live2dcubismcore.min.js",r.src="/book/live2d-bundle-v1.0.js",document.head.appendChild(d),document.head.appendChild(r)})}async function x(){const{project:o,assist:a}=u.query;await b(),e.assists[o]&&e.assists[o].includes(a)&&(e.project=o,e.assist=a,await f(),w())}q(()=>{x()});const j={props:_,router:t,route:u,BASE_URL:p,state:e,assistList:G,toggleOpen:w,onClear:M,showOut:y,loadLive2d:b,initFromQuery:x,onMounted:q,reactive:z,nextTick:f,computed:B,watch:E,get useRoute(){return h},get useRouter(){return S}};return Object.defineProperty(j,"__isScriptSetup",{enumerable:!1,value:!0}),j}},T={key:0,class:"panel"},H=["value"],I=["value"],K={class:"panel"};function N(v,s,_,t,u,p){return n(),i("div",{style:U(`position: ${_.position}`),class:A(["board-wrapper",_.position,t.state.assist])},[t.state.open?(n(),i(m,{key:1},[s[5]||(s[5]=l("canvas",{id:"board-girl"},null,-1)),l("div",K,[s[3]||(s[3]=V(" Scale")),g(l("input",{type:"range",min:"0.5",max:"3.5",step:"0.1","onUpdate:modelValue":s[2]||(s[2]=e=>t.state.scale=e)},null,512),[[F,t.state.scale]]),s[4]||(s[4]=l("br",null,null,-1)),l("div",{class:"call-assist",onClick:t.onClear}," Clear ")])],64)):(n(),i("div",T,[g(l("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>t.state.project=e)},[(n(!0),i(m,null,L(t.state.projects,e=>(n(),i("option",{key:`project_${e}`,value:e},R(e),9,H))),128))],512),[[C,t.state.project]]),g(l("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>t.state.assist=e)},[(n(!0),i(m,null,L(t.assistList,e=>(n(),i("option",{key:`assist_${e}`,value:e},R(e),9,I))),128))],512),[[P,t.state.project],[C,t.state.assist]]),l("div",{class:"call-assist",onClick:t.toggleOpen}," 呼叫助理 ")]))],6)}const Q=O(D,[["render",N],["__scopeId","data-v-1fc678d1"],["__file","BoardGirl.vue"]]);export{Q as default};
