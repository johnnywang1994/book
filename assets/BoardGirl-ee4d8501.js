import{_ as q,s as C,v as E,x as L,h as G,n as I,o as n,c as i,y as c,z as f,d as l,F as u,i as v,t as y,A as M,e as V,B as $,C as D,q as F,D as w,l as P,p as R,j as U}from"./app-4f8ac264.js";const h=a=>(R("data-v-4f9ad3b2"),a=a(),U(),a),A={key:0,class:"panel"},O=["value"],T=["value"],H=h(()=>l("canvas",{id:"board-girl"},null,-1)),K={class:"panel"},N=h(()=>l("br",null,null,-1)),J={__name:"BoardGirl",props:{position:{type:String,default:"fixed"},size:{type:String,default:"auto"}},setup(a){const b=a,r=C(),p=E(),x="https://johnnywang1994.github.io/assets/live2d",e=L({open:!1,scale:1,assist:"",project:"",assists:{demo:["Hiyori","Rice"],"girls-frontline":["Aa12_2403","G41","Generalliu_5101","Hk416_3401","Js9mm_4702","K2_3301","Kp31_1103","M4Sopmod_ii_4507","Mk23_3105","Ots14_4501","Pa15_3701","Spitfire_1405"],"girls-cafe-gun":["0202upd__l2d_345.u","0202upd__l2d_349.u","0911upd__l2d_344.u","0925upd__l2d_365.u","10qpt01__l2d_355.u","12qpt03__l2d_376.u","28__l2d_119.u","47__l2d_200.u","47__l2d_202.u","47__l2d_203.u","724upd__l2d_388.u","724upd__l2d_389.u","9qpt01__l2d_326.u","g10_l2d08.u","g12_l2d00.u","g12_l2d01.u","g12_l2d02.u","g1_l2d00.u","g1_l2d03.u","g1_l2d04.u","g1_l2d8002.u","g2_l2d17.u","g2_l2d5017.u","g3_l2d04.u","g3_l2d22.u","g3_l2d24.u","g5_l2d03.u","g6_l2d03.u","g7_l2d03.u","g8_l2d03.u","g9_l2d00.u","l2d4__l2d_182.u","l2d6__l2d_184.u","newg01__l2d_296.u","swg02__l2d_292.u"],"azue-lane":["daofeng_4","dujiaoshou_4","lafei","taiyuan_2","z46_2"],"unknow-brige":["c_3012","c_3023","c_3033","c_3112","c_3123","c_3131","c_3223","c_3231","c_3312","c_3321","c_3323","c_3412","c_5021","c_5131"],sin:["xch006_01","xch013_01","xch016_01","xco005a_01","xco009_01","xco011_01","xco013_01","xco017_01","xco025_01"]},projects:["demo","girls-frontline","girls-cafe-gun","azue-lane","unknow-brige","sin"]}),j=G(()=>e.project?e.assists[e.project]:[]);async function g(){e.open=!e.open,e.open&&(await w(),S(),r.replace({query:{project:e.project,assist:e.assist}}))}async function k(){r.replace({query:null}),window.history.replaceState(null,"","/book"+p.fullPath.split("?")[0]),window.location.reload()}function S(){const{onload:o,onbeforeunload:t,onresize:s,setScale:d}=window.Live2d({el:"#board-girl",size:b.size,quality:2,resourcesPath:`${x}/${e.project}/`,modelDir:[e.assist],bindFullscreen:!0});o(),window.addEventListener("beforeunload",t),window.addEventListener("resize",s),P(()=>e.scale,_=>{d(_)})}function z(){return new Promise(o=>{const t="live2dcubis";document.getElementById(t)&&o();const s=document.createElement("script"),d=document.createElement("script");s.id=t;let _=0;const m=()=>{_++,_===2&&o()};s.onload=m(),d.onload=m(),s.src="/book/live2dcubismcore.min.js",d.src="/book/live2d-bundle-v1.0.js",document.head.appendChild(s),document.head.appendChild(d)})}async function B(){const{project:o,assist:t}=p.query;await z(),e.assists[o]&&e.assists[o].includes(t)&&(e.project=o,e.assist=t,await w(),g())}return I(()=>{B()}),(o,t)=>(n(),i("div",{style:D(`position: ${a.position}`),class:F(["board-wrapper",a.position,e.assist])},[e.open?(n(),i(u,{key:1},[H,l("div",K,[V(" Scale"),c(l("input",{type:"range",min:"0.5",max:"3.5",step:"0.1","onUpdate:modelValue":t[2]||(t[2]=s=>e.scale=s)},null,512),[[$,e.scale]]),N,l("div",{class:"call-assist",onClick:k}," Clear ")])],64)):(n(),i("div",A,[c(l("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.project=s)},[(n(!0),i(u,null,v(e.projects,s=>(n(),i("option",{key:`project_${s}`,value:s},y(s),9,O))),128))],512),[[f,e.project]]),c(l("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>e.assist=s)},[(n(!0),i(u,null,v(j.value,s=>(n(),i("option",{key:`assist_${s}`,value:s},y(s),9,T))),128))],512),[[M,e.project],[f,e.assist]]),l("div",{class:"call-assist",onClick:g}," 呼叫助理 ")]))],6))}},W=q(J,[["__scopeId","data-v-4f9ad3b2"],["__file","BoardGirl.vue"]]);export{W as default};
