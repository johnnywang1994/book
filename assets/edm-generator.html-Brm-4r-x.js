import{_ as p,c as e,b as n,a as t,d as l,o as c,r as o}from"./app-RvPLl2RM.js";const i={};function u(k,s){const a=o("SocialBlock");return c(),e("div",null,[s[0]||(s[0]=n("h1",{id:"開發-email-edm-你可以更輕鬆",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#開發-email-edm-你可以更輕鬆"},[n("span",null,"開發 Email EDM 你可以更輕鬆")])],-1)),t(a,{hashtags:"javascript,typescript,email,edm,premailer,gulp"}),s[1]||(s[1]=l(`<p>嗨，大家好我是 Johnny，今天要來帶大家認識一個偶爾會碰到的開發需求 <code>Email EDM</code>。</p><p>這個需求通常內容都不多，就一頁，但碰到時總覺得像雞肋一樣，明明內容不多，但卻常常搞得人仰馬翻，網路上找的資源又殘缺不全，明明感覺內容很少很簡單，但就因為搞不清楚限制而到處踩坑。</p><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><p>最近想起之前開發 Email EDM 的恐懼，相信有開發過 EDM 需求的工程師一定都碰過以下這些問題</p><ul><li>什麼？你說 Email EDM 居然不能用 <code>&lt;link&gt;</code>？</li><li>什麼？<code>&lt;style&gt;</code> 只能放在 <code>head</code> 裡？而且為啥有的 email 服務甚至連 <code>&lt;style&gt;</code>標籤都不能用？</li><li>什麼？為啥有的 email 服務只把 body 裡的東西拿出去用？</li><li>什麼？為啥有的 email 服務直接無視我設定的 <code>doctype</code> 自己亂插入內容？</li><li>什麼？為啥我的 <code>id</code>, <code>class</code> 都被移除了！？我的精美樣式呢？</li></ul><p>通常搞半天，最後為了做到最大相容所有 email 服務，還必須寫 <code>inline style</code>...... 天阿!!!!</p><h2 id="email-edm-開發限制" tabindex="-1"><a class="header-anchor" href="#email-edm-開發限制"><span>Email EDM 開發限制</span></a></h2><p>要開發之前，首先必須釐清每個 Email 服務商是怎麼處理 HTML, CSS style 部分的，由於限制非常混亂，對詳細限制有興趣的朋友可以參考下面這些連結內容</p><ul><li><a href="https://www.w3schools.com/tags/ref_html_dtd.asp" target="_blank" rel="noopener noreferrer">HTML &lt;!DOCTYPE&gt;</a></li><li><a href="https://www.hteumeuleu.com/2016/which-doctype-should-you-use-in-html-emails/" target="_blank" rel="noopener noreferrer">Which doctype should you use in HTML emails</a></li><li><a href="https://www.youtube.com/watch?v=vsQmiTe_GLQ" target="_blank" rel="noopener noreferrer">Designing HTML Emails Tutorial</a></li><li><a href="https://www.campaignmonitor.com/css/style-element/style-in-head/" target="_blank" rel="noopener noreferrer">style in head</a></li><li><a href="https://customer.io/blog/how-to-make-css-play-nice-in-html-emails-without-breaking-everything/" target="_blank" rel="noopener noreferrer">How to make css play nice in html emails</a></li></ul><p>懶得看連結文章的朋友也可以看這邊的總結</p><ul><li>關於 <code>HTML Doctype</code>，由於每個 Email 服務商在實作上不同，即使你設定了，也不一定會套用你的設定，一般建議就照常設定簡短的 HTML5 的版本即可，這部分真的沒有統一</li><li>external style 的 <code>&lt;link&gt;</code> 基本上會載入東西的會被屏蔽，而 internal style 的 <code>&lt;style&gt;</code> 則根據 Email 服務商不同，目前 Gmail 可以在 <code>&lt;head&gt;</code> 中使用，但仍然會檢查其內容，檢查不合格的語法會直接忽略。</li><li>CSS 支援語法的部分，也是根據服務商不同，可用的屬性語法也不太相同，具體可以在使用前透過 <a href="https://www.caniemail.com/" target="_blank" rel="noopener noreferrer">CanIEmail</a> 查詢一下相容性</li></ul><blockquote><p>連結文章有些內容較舊了，目前主流 Email 服務像是 <a href="https://developers.google.com/gmail/design/css" target="_blank" rel="noopener noreferrer">Gmail</a> 其實都支援在 <code>&lt;head&gt;</code> 的 <code>&lt;style&gt;</code>標籤中使用 CSS，但也還是有限制，其中的 CSS 內容必須是 valid 的，invalid 語法內容會被無情忽略，我相信大部分人是不會知道每個服務商究竟如何判斷 valid, invalid，也因此到目前為止，撰寫 Email EDM 最安全的方法還是 <code>inline style</code>（除非你真的很懶得理其他非主流 Email 服務商，那就放膽用吧！）</p></blockquote><h2 id="具體安全作法" tabindex="-1"><a class="header-anchor" href="#具體安全作法"><span>具體安全作法</span></a></h2><p>綜上所述，目前最安全保守的方法就還是使用 <code>inline css</code>，也就是在 HTML 標籤上直接寫 <code>style=&quot;xxx&quot;</code>，然而這種方式寫起來也是最廢時間、費力氣的，重複樣式出現的場景，只要需求改一個字體大小都會讓你想哭爹叫娘，即使你用 <code>ctrl + D</code> 全選也很難應對所有情況，譬如你只要改 <code>a</code> 標籤的字體大小，但偏偏某些 <code>span</code> 也設定了同樣的大小，此時你就必須要捲起袖子一行一行選了顆顆...比如下面這樣</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html" data-title="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">max-width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span> <span class="token property">text-align</span><span class="token punctuation">:</span> center</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span> 2em</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>My Cool EDM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span> 1em</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>This is something very hard to write<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.google.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span> <span class="token property">text-transform</span><span class="token punctuation">:</span> underline</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>Go to Google<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://fake.test-img.jpg<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token property">max-width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">&quot;</span></span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://fake.test-img2.jpg<span class="token punctuation">&quot;</span></span></span>
<span class="line">  <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token property">max-width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">&quot;</span></span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>光是兩張圖片就已經搞得我眼花撩亂，更何況你今天要開發的就算只有一頁，如果包含了完整的 header, footer需要動到 CSS Layout，絕對讓你寫到嗨翻天</p><h2 id="email-edm-救星-premailer" tabindex="-1"><a class="header-anchor" href="#email-edm-救星-premailer"><span>Email EDM 救星 - Premailer</span></a></h2><p>這邊推薦大家一款線上編譯的服務叫做 <a href="https://premailer.dialect.ca/" target="_blank" rel="noopener noreferrer">Premailer</a>，他是一款能夠幫助你把 HTML 中載入的 <code>&lt;link&gt;</code>, <code>&lt;style&gt;</code>，自動帶入到你寫的 HTML 標籤中，編譯後會自動把 class 裡面的樣式合併到你 HTML tag 中的行內樣式，也因此我們可以直接照常使用 class, style, link 來撰寫我們的 HTML，最後要發送之前，再一次性把他轉為 inline style</p><ul><li>比如下面這樣的 HTML</li></ul><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html" data-title="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>My EDM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"></span>
<span class="line">    <span class="token selector">h1, p</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token selector">p</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">font-size</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token selector">img</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></span>
<span class="line">      <span class="token property">max-width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token selector">.container</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span></span>
<span class="line">      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">max-width</span><span class="token punctuation">:</span> 600px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>A beautiful picture<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://fake.img.com/test.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image not found<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>經過 <code>Premailer</code> 編譯後如下（勾選了 <code>Remove classes</code>, <code>Remove unused IDs</code>, <code>Remove comments</code> 功能）</li></ul><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html" data-title="html"><pre><code><span class="line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;</span> <span class="token string">&quot;http://www.w3.org/TR/REC-html40/loose.dtd&quot;</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">line-height</span><span class="token punctuation">:</span> 1.15<span class="token punctuation">;</span> <span class="token property">-webkit-text-size-adjust</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>My EDM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"></span>
<span class="line">      <span class="token selector">body</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      <span class="token selector">img</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">border-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      <span class="token selector">img</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></span>
<span class="line">        <span class="token property">max-width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">max-width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>Hello Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>A beautiful picture<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://fake.img.com/test.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image not found<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span> <span class="token property">max-width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">border-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到 Premailer 幫我們把 <code>.container</code> 自動轉為了行內樣式，甚至還自動把 <code>text-center</code> 轉為 <code>align=&quot;center&quot;</code> 了，所有其他標籤也都自動帶入了我們在 <code>normalize.css</code> 裡的設定，為了使相容性更高，Premailer 還是有把 <code>head</code> 中的 <code>&lt;style&gt;</code> 保留下來並套用一些較為安全的 css 在內，整體而言算是大幅減少了開發者一行一行重複操作的麻煩時間，誠心推薦</p><h2 id="全自動化-edm-生產環境" tabindex="-1"><a class="header-anchor" href="#全自動化-edm-生產環境"><span>全自動化 EDM 生產環境</span></a></h2><p>如果你對於還需要把 HTML 複製貼上去網頁上轉換還是不滿的話，那歡迎試試我製作的 <a href="https://github.com/johnnywang1994/edm-generator" target="_blank" rel="noopener noreferrer">edm-generator</a>，只需要透過 <code>git clone</code> 或是 ZIP 下載到本機中，就可以快速無痛使用 Pug 或是 HTML + SCSS + TailwindCSS + Juice or Premailer 快速在本地開發摟～，打包時會自動幫你把 id, class 樣式變成 inline，或是通過 API 呼叫把你的內容傳給 premailer 編譯再放回來，也就不需要另外開啟網頁手動複製貼上了。</p>`,25)),t(a,{hashtags:"javascript,typescript,email,edm,premailer,gulp"}),s[2]||(s[2]=n("h2",{id:"結論",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#結論"},[n("span",null,"結論")])],-1)),s[3]||(s[3]=n("p",null,"這次整理了一下目前有關於 Email EDM 的一些小小研究，也順手寫了一個小工具方便日後開發使用，也歡迎各位有興趣的朋友下載玩玩看摟，希望這篇文章可以幫助到更多在開發 Email EDM 時遇到困難的朋友們",-1)),s[4]||(s[4]=n("p",null,"感謝大家收看，下篇文章見摟 =V=~",-1))])}const d=p(i,[["render",u],["__file","edm-generator.html.vue"]]),m=JSON.parse('{"path":"/articles/js/edm-generator.html","title":"開發 Email EDM 你可以更輕鬆","lang":"zh-TW","frontmatter":{},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"Email EDM 開發限制","slug":"email-edm-開發限制","link":"#email-edm-開發限制","children":[]},{"level":2,"title":"具體安全作法","slug":"具體安全作法","link":"#具體安全作法","children":[]},{"level":2,"title":"Email EDM 救星 - Premailer","slug":"email-edm-救星-premailer","link":"#email-edm-救星-premailer","children":[]},{"level":2,"title":"全自動化 EDM 生產環境","slug":"全自動化-edm-生產環境","link":"#全自動化-edm-生產環境","children":[]},{"level":2,"title":"結論","slug":"結論","link":"#結論","children":[]}],"git":{"updatedTime":1672224635000,"contributors":[{"name":"johnnywang","email":"johnnywang@test.com","commits":2,"url":"https://github.com/johnnywang"}]},"filePathRelative":"articles/js/edm-generator.md"}');export{d as comp,m as data};
