import{_ as o,r as l,o as r,c as i,d as e,e as n,a,f as t}from"./app.ea61568d.js";const c={},p=e("h1",{id:"kubernetes-\u5B78\u7FD2\u7B46\u8A18",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#kubernetes-\u5B78\u7FD2\u7B46\u8A18","aria-hidden":"true"},"#"),n(" Kubernetes \u5B78\u7FD2\u7B46\u8A18")],-1),u=e("h2",{id:"\u76F8\u95DC\u8CC7\u6E90",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u76F8\u95DC\u8CC7\u6E90","aria-hidden":"true"},"#"),n(" \u76F8\u95DC\u8CC7\u6E90")],-1),d={href:"https://kubernetes.io/zh-cn/docs/home/",target:"_blank",rel:"noopener noreferrer"},k={href:"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#-strong-getting-started-strong-",target:"_blank",rel:"noopener noreferrer"},m=e("h2",{id:"kompose",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#kompose","aria-hidden":"true"},"#"),n(" kompose")],-1),b={href:"https://kubernetes.io/zh/docs/tasks/configure-pod-container/translate-compose-kubernetes/",target:"_blank",rel:"noopener noreferrer"},h=e("p",null,"\u7528\u4EE5\u8F49\u63DB docker-compose \u6587\u4EF6\u70BA kubernetes \u8CC7\u6E90",-1),v=e("h2",{id:"minikube",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#minikube","aria-hidden":"true"},"#"),n(" Minikube")],-1),_={href:"https://minikube.sigs.k8s.io/docs/start/",target:"_blank",rel:"noopener noreferrer"},g={href:"https://minikube.sigs.k8s.io/docs/handbook/pushing/",target:"_blank",rel:"noopener noreferrer"},f=t(`<p>\u7D81\u5B9A\u7576\u524D terminal docker \u70BA minicube cluster \u7684 docker</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>eval $(minikube docker-env)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5F8C\u7E8C docker build \u7684 image \u5C31\u6703\u5EFA\u69CB\u5728 minikube \u4E2D\uFF0C\u8A18\u5F97\u5728 yaml \u6A94\u6848\u88E1\u6A19\u8A18 <code>imagePullPolicy: IfNotPresent</code> minikube \u624D\u6703\u5148\u67E5\u627E local image</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ kubectl run majupixiv <span class="token parameter variable">--image</span><span class="token operator">=</span>majupixiv <span class="token parameter variable">--port</span><span class="token operator">=</span><span class="token number">8003</span> --image-pull-policy<span class="token operator">=</span>IfNotPresent
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Deployment yaml \u7BC4\u4F8B</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> demo
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> demo
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span> <span class="token comment"># \u544A\u77E5 Deployment \u904B\u884C\u4E00\u500B Pod</span>
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> demo
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> demo
        <span class="token key atrule">image</span><span class="token punctuation">:</span> demo
        <span class="token key atrule">imagePullPolicy</span><span class="token punctuation">:</span> IfNotPresent
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">80</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="image-pull-secret" tabindex="-1"><a class="header-anchor" href="#image-pull-secret" aria-hidden="true">#</a> image pull secret</h2>`,7),y={href:"https://kubernetes.io/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod",target:"_blank",rel:"noopener noreferrer"},x=t(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ kubectl create secret docker-registry <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> --docker-server<span class="token operator">=</span>DOCKER_REGISTRY_SERVER --docker-username<span class="token operator">=</span>DOCKER_USER --docker-password<span class="token operator">=</span>DOCKER_PASSWORD --docker-email<span class="token operator">=</span>DOCKER_EMAIL
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,1),E={href:"https://github.com/kubernetes-sigs/kind/issues/817#issuecomment-681976133",target:"_blank",rel:"noopener noreferrer"};function P(R,D){const s=l("ExternalLinkIcon");return r(),i("div",null,[p,u,e("ul",null,[e("li",null,[e("a",d,[n("\u5B98\u65B9\u6587\u4EF6"),a(s)])]),e("li",null,[e("a",k,[n("kubectl command reference"),a(s)])])]),m,e("p",null,[e("a",b,[n("kompose \u5DE5\u5177"),a(s)])]),h,v,e("ul",null,[e("li",null,[e("a",_,[n("\u5B89\u88DD\u8207\u555F\u52D5\u6559\u5B78"),a(s)])]),e("li",null,[e("a",g,[n("Push images"),a(s)])])]),f,e("ul",null,[e("li",null,[e("a",y,[n("Link"),a(s)])])]),x,e("blockquote",null,[e("p",null,[n("\u9700\u6CE8\u610F\uFF0Csecret \u7684 namespace \u8DDF deployment \u6642\u63D0\u4F9B\u7684 namespace \u9700\u4E00\u81F4\uFF0C\u5426\u5247\u5C07\u7121\u6CD5\u5957\u7528 secret\uFF0C\u8A73\u60C5\u53EF\u898B "),e("a",E,[n("\u9019\u500B\u8A0E\u8AD6\u4E32"),a(s)])])])])}const N=o(c,[["render",P],["__file","k8s.html.vue"]]);export{N as default};
