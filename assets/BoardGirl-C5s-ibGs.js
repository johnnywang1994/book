import{_ as q,m as B,p as C,q as E,h as L,l as M,c as n,o as a,s as _,b as l,v as f,F as r,g as v,t as w,x as V,e as $,y as F,n as G,z as P,A as y,j as R}from"./app-BrOWnwog.js";const U={key:0,class:"panel"},A=["value"],D=["value"],O={class:"panel"},T={__name:"BoardGirl",props:{position:{type:String,default:"fixed"},size:{type:String,default:"auto"}},setup(u){const x=u,c=B(),p=C(),b="https://johnnywang1994.github.io/assets/live2d",e=E({open:!1,scale:1,assist:"",project:"",assists:{demo:["Hiyori","Rice"],"girls-frontline":["Aa12_2403","G41","Generalliu_5101","Hk416_3401","Js9mm_4702","K2_3301","Kp31_1103","M4Sopmod_ii_4507","Mk23_3105","Ots14_4501","Pa15_3701","Spitfire_1405"],"girls-cafe-gun":["0202upd__l2d_345.u","0202upd__l2d_349.u","0911upd__l2d_344.u","0925upd__l2d_365.u","10qpt01__l2d_355.u","12qpt03__l2d_376.u","28__l2d_119.u","47__l2d_200.u","47__l2d_202.u","47__l2d_203.u","724upd__l2d_388.u","724upd__l2d_389.u","9qpt01__l2d_326.u","g10_l2d08.u","g12_l2d00.u","g12_l2d01.u","g12_l2d02.u","g1_l2d00.u","g1_l2d03.u","g1_l2d04.u","g1_l2d8002.u","g2_l2d17.u","g2_l2d5017.u","g3_l2d04.u","g3_l2d22.u","g3_l2d24.u","g5_l2d03.u","g6_l2d03.u","g7_l2d03.u","g8_l2d03.u","g9_l2d00.u","l2d4__l2d_182.u","l2d6__l2d_184.u","newg01__l2d_296.u","swg02__l2d_292.u"],"azue-lane":["daofeng_4","dujiaoshou_4","lafei","taiyuan_2","z46_2"],"unknow-brige":["c_3012","c_3023","c_3033","c_3112","c_3123","c_3131","c_3223","c_3231","c_3312","c_3321","c_3323","c_3412","c_5021","c_5131"],sin:["xch006_01","xch013_01","xch016_01","xco005a_01","xco009_01","xco011_01","xco013_01","xco017_01","xco025_01"]},projects:["demo","girls-frontline","girls-cafe-gun","azue-lane","unknow-brige","sin"]}),j=L(()=>e.project?e.assists[e.project]:[]);async function g(){e.open=!e.open,e.open&&(await y(),h(),c.replace({path:"/live2d/",query:{project:e.project,assist:e.assist}}))}async function k(){c.replace({query:null}),window.history.replaceState(null,"","/book"+p.fullPath.split("?")[0]),window.location.reload()}function h(){const{onload:o,onbeforeunload:s,onresize:t,setScale:i}=window.Live2d({el:"#board-girl",size:x.size,quality:2,resourcesPath:`${b}/${e.project}/`,modelDir:[e.assist],bindFullscreen:!0});o(),window.addEventListener("beforeunload",s),window.addEventListener("resize",t),R(()=>e.scale,d=>{i(d)})}function S(){return new Promise(o=>{const s="live2dcubis";document.getElementById(s)&&o();const t=document.createElement("script"),i=document.createElement("script");t.id=s;let d=0;const m=()=>{d++,d===2&&o()};t.onload=m(),i.onload=m(),t.src="/book/live2dcubismcore.min.js",i.src="/book/live2d-bundle-v1.0.js",document.head.appendChild(t),document.head.appendChild(i)})}async function z(){const{project:o,assist:s}=p.query;await S(),e.assists[o]&&e.assists[o].includes(s)&&(e.project=o,e.assist=s,await y(),g())}return M(()=>{z()}),(o,s)=>(a(),n("div",{style:P(`position: ${u.position}`),class:G(["board-wrapper",u.position,e.assist])},[e.open?(a(),n(r,{key:1},[s[5]||(s[5]=l("canvas",{id:"board-girl"},null,-1)),l("div",O,[s[3]||(s[3]=$(" Scale")),_(l("input",{type:"range",min:"0.5",max:"3.5",step:"0.1","onUpdate:modelValue":s[2]||(s[2]=t=>e.scale=t)},null,512),[[F,e.scale]]),s[4]||(s[4]=l("br",null,null,-1)),l("div",{class:"call-assist",onClick:k}," Clear ")])],64)):(a(),n("div",U,[_(l("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>e.project=t)},[(a(!0),n(r,null,v(e.projects,t=>(a(),n("option",{key:`project_${t}`,value:t},w(t),9,A))),128))],512),[[f,e.project]]),_(l("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>e.assist=t)},[(a(!0),n(r,null,v(j.value,t=>(a(),n("option",{key:`assist_${t}`,value:t},w(t),9,D))),128))],512),[[V,e.project],[f,e.assist]]),l("div",{class:"call-assist",onClick:g}," 呼叫助理 ")]))],6))}},I=q(T,[["__scopeId","data-v-e4164d36"]]);export{I as default};
