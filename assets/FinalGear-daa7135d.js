import{_ as w,s as k,v as b,x as S,n as $,o,c as l,d as i,y as u,A as x,C as _,b as C,F,i as j,e as B,B as I,q,D as g,p as E,j as G}from"./app-4f8ac264.js";const O=n=>(E("data-v-22a4e452"),n=n(),G(),n),P={class:"board-girl-wrapper"},V={key:0,class:"pilot-list"},z={class:"pilot-item"},N=["src","onClick"],R={key:1,class:"panel"},T=O(()=>i("br",null,null,-1)),A={__name:"FinalGear",props:{position:{type:String,default:"fixed"}},setup(n){const c=k(),r=b(),d="https://johnnywang1994.github.io/assets/spine/gear",m=e=>`https://johnnywang1994.github.io/assets/spine/gear/head/${e}.png`,s=S({open:!1,scale:1,assist:"",assists:["100010","100011","100012","100015","100093","100111","100123","100201","100202","100204","100206","100211","100212","100213","100242","100243","100283","100293","100310","100311","100320","100321","100322","100323","100324","100325","100326","100335","100343","100351","100352","100361","100362","100363","100370","100372","100373","100431","100433","100434","100461","100462","100472","100491","100500","100501","100502","100503","100510","100520","100521","100522","100523","100540","100541","100550","100553","100560","100561","100562","100563","100564","100600","100650","100670","100671","100672","100673","100683","100700","100701","100702","100703","100704","100722","100740","100741","100781","100782","100801","100804","100810","100811","100812","100813","100820","100821","100822","100823","100824","100830","100832","100833","100834","100840","100851","100852","100861","100862","100872","100910","100911","100912","100940","100941","100942","100960","100961","100980","100990","101010","101020","101050","101051","101061","101062","101063","101080","101081","101082","101084","101160","101161","101162","101163","101172","101173","101190","101201","101240","101280","101281","101480","101490","101511","101600","101711","101722","101771","101790","101792","101800","101811","101840"]});async function p(e){e&&(s.assist=e),s.open=!s.open,s.open&&(await g(),y(),c.replace({query:{assist:s.assist}}))}async function v(){c.replace({query:null}),window.history.replaceState(null,"","/book"+r.fullPath.split("?")[0]),window.location.reload()}function y(){const e=t=>({json:`${d}/${t}/Pilot_${t}.json`,atlas:`${d}/${t}/Pilot_${t}.atlas`,tryAnimations:["idle4","idle2","idle"],backgroundColor:"#00000000"});new spine.SpineWidget("board-girl",e(s.assist))}function h(){return new Promise(e=>{const t="spine-widget";document.getElementById(t)&&e();const a=document.createElement("script");a.id=t,a.onload=()=>e(),a.src="/book/spine-widget-v3.6.js",document.head.appendChild(a)})}async function f(){const{assist:e}=r.query;await h(),s.assists.includes(e)&&(s.assist=e,await g(),p())}return $(()=>{f()}),(e,t)=>(o(),l("div",{style:_(`position: ${n.position}`),class:q(["board-wrapper",n.position,s.assist])},[i("div",P,[u(i("div",{id:"board-girl",style:_({transform:`scale(${s.scale})`})},null,4),[[x,s.open]])]),C(` <div class="panel" v-if="!state.open">
      <select v-model="state.assist">
        <option
          v-for="assist in state.assists"
          :key="\`assist_\${assist}\`"
          :value="assist"
        >{{ assist }}</option>
      </select>
      <div class="call-assist" @click="toggleOpen">
        呼叫助理
      </div>
    </div> `),s.open?(o(),l("div",R,[B(" Scale"),u(i("input",{type:"range",min:"0.5",max:"3.5",step:"0.1","onUpdate:modelValue":t[0]||(t[0]=a=>s.scale=a)},null,512),[[I,s.scale]]),T,i("div",{class:"call-assist",onClick:v}," Clear ")])):(o(),l("div",V,[(o(!0),l(F,null,j(s.assists,a=>(o(),l("div",z,[i("img",{src:m(a),onClick:D=>p(a),loading:"lazy"},null,8,N)]))),256))]))],6))}},M=w(A,[["__scopeId","data-v-22a4e452"],["__file","FinalGear.vue"]]);export{M as default};
