import{_ as k,m as x,p as _,q as C,l as S,c as a,o as i,b as o,s as l,x as j,z as v,F as B,h as F,e as d,y as p,n as P,A as y}from"./app-DPsCAi97.js";const V={class:"board-girl-wrapper"},X={key:0,class:"pilot-list"},Y={class:"pilot-item"},q=["src","onClick"],z={key:1,class:"panel"},E={__name:"FinalGear",props:{position:{type:String,default:"fixed"}},setup(u){const c=x(),r=_(),m="https://johnnywang1994.github.io/assets/spine/gear",f=t=>`https://johnnywang1994.github.io/assets/spine/gear/head/${t}.png`,s=C({open:!1,scale:1,moveX:0,moveY:0,assist:"",assists:["100010","100011","100012","100015","100093","100111","100123","100201","100202","100204","100206","100211","100212","100213","100242","100243","100283","100293","100310","100311","100320","100321","100322","100323","100324","100325","100326","100335","100343","100351","100352","100361","100362","100363","100370","100372","100373","100431","100433","100434","100461","100462","100472","100491","100500","100501","100502","100503","100510","100520","100521","100522","100523","100540","100541","100550","100553","100560","100561","100562","100563","100564","100600","100650","100670","100671","100672","100673","100683","100700","100701","100702","100703","100704","100722","100740","100741","100781","100782","100801","100804","100810","100811","100812","100813","100820","100821","100822","100823","100824","100830","100832","100833","100834","100840","100851","100852","100861","100862","100872","100910","100911","100912","100940","100941","100942","100960","100961","100980","100990","101010","101020","101050","101051","101061","101062","101063","101080","101081","101082","101084","101160","101161","101162","101163","101172","101173","101190","101201","101240","101280","101281","101480","101490","101511","101600","101711","101722","101771","101790","101792","101800","101811","101840"]});async function g(t){t&&(s.assist=t),s.open=!s.open,s.open&&(await y(),h(),c.replace({path:r.fullPath.split("?")[0],query:{assist:s.assist}}))}async function w(){c.replace({query:null}),window.history.replaceState(null,"","/book"+r.fullPath.split("?")[0]),window.location.reload()}function h(){const t=e=>({json:`${m}/${e}/Pilot_${e}.json`,atlas:`${m}/${e}/Pilot_${e}.atlas`,tryAnimations:["idle4","idle2","idle"],backgroundColor:"#00000000"});new spine.SpineWidget("board-girl",t(s.assist))}function $(){return new Promise(t=>{const e="spine-widget";document.getElementById(e)&&t();const n=document.createElement("script");n.id=e,n.onload=()=>t(),n.src="/book/spine-widget-v3.6.js",document.head.appendChild(n)})}async function b(){const{assist:t}=r.query;await $(),s.assists.includes(t)&&(s.assist=t,await y(),g())}return S(()=>{b()}),(t,e)=>(i(),a("div",{style:v(`position: ${u.position}`),class:P(["board-wrapper",u.position,s.assist])},[o("div",V,[l(o("div",{id:"board-girl",style:v({transform:`scale(${s.scale}) translate(${s.moveX}%, ${s.moveY}%)`})},null,4),[[j,s.open]])]),s.open?(i(),a("div",z,[o("div",null,[e[3]||(e[3]=d(" Scale")),l(o("input",{type:"range",min:"0.5",max:"3.5",step:"0.1","onUpdate:modelValue":e[0]||(e[0]=n=>s.scale=n)},null,512),[[p,s.scale]])]),o("div",null,[e[4]||(e[4]=d(" Move X")),l(o("input",{type:"range",min:"-50",max:"50",step:"1","onUpdate:modelValue":e[1]||(e[1]=n=>s.moveX=n)},null,512),[[p,s.moveX]])]),o("div",null,[e[5]||(e[5]=d(" Move Y")),l(o("input",{type:"range",min:"-50",max:"50",step:"1","onUpdate:modelValue":e[2]||(e[2]=n=>s.moveY=n)},null,512),[[p,s.moveY]])]),o("div",{class:"call-assist",onClick:w}," Clear ")])):(i(),a("div",X,[(i(!0),a(B,null,F(s.assists,n=>(i(),a("div",Y,[o("img",{src:f(n),onClick:M=>g(n),loading:"lazy"},null,8,q)]))),256))]))],6))}},I=k(E,[["__scopeId","data-v-a743ba11"]]);export{I as default};
