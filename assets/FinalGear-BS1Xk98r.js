import{_ as P,m as x,p as S,q as C,l as j,o as r,c as d,b as o,v as m,y as O,A as B,F as R,i as V,e as g,z as v,n as X,B as f}from"./app-DUXFSTbR.js";const Y={__name:"FinalGear",props:{position:{type:String,default:"fixed"}},setup(y,{expose:t}){t();const c=y,e=x(),l=S(),p="https://johnnywang1994.github.io/assets/spine/gear",n=s=>`https://johnnywang1994.github.io/assets/spine/gear/head/${s}.png`,a=C({open:!1,scale:1,moveX:0,moveY:0,assist:"",assists:["100010","100011","100012","100015","100093","100111","100123","100201","100202","100204","100206","100211","100212","100213","100242","100243","100283","100293","100310","100311","100320","100321","100322","100323","100324","100325","100326","100335","100343","100351","100352","100361","100362","100363","100370","100372","100373","100431","100433","100434","100461","100462","100472","100491","100500","100501","100502","100503","100510","100520","100521","100522","100523","100540","100541","100550","100553","100560","100561","100562","100563","100564","100600","100650","100670","100671","100672","100673","100683","100700","100701","100702","100703","100704","100722","100740","100741","100781","100782","100801","100804","100810","100811","100812","100813","100820","100821","100822","100823","100824","100830","100832","100833","100834","100840","100851","100852","100861","100862","100872","100910","100911","100912","100940","100941","100942","100960","100961","100980","100990","101010","101020","101050","101051","101061","101062","101063","101080","101081","101082","101084","101160","101161","101162","101163","101172","101173","101190","101201","101240","101280","101281","101480","101490","101511","101600","101711","101722","101771","101790","101792","101800","101811","101840"]});async function _(s){s&&(a.assist=s),a.open=!a.open,a.open&&(await f(),w(),e.replace({path:l.fullPath.split("?")[0],query:{assist:a.assist}}))}async function F(){e.replace({query:null}),window.history.replaceState(null,"","/book"+l.fullPath.split("?")[0]),window.location.reload()}function w(){const s=i=>({json:`${p}/${i}/Pilot_${i}.json`,atlas:`${p}/${i}/Pilot_${i}.atlas`,tryAnimations:["idle4","idle2","idle"],backgroundColor:"#00000000"});new spine.SpineWidget("board-girl",s(a.assist))}function b(){return new Promise(s=>{const i="spine-widget";document.getElementById(i)&&s();const u=document.createElement("script");u.id=i,u.onload=()=>s(),u.src="/book/spine-widget-v3.6.js",document.head.appendChild(u)})}async function h(){const{assist:s}=l.query;await b(),a.assists.includes(s)&&(a.assist=s,await f(),_())}j(()=>{h()});const k={props:c,router:e,route:l,BASE_URL:p,headImg:n,state:a,toggleOpen:_,onClear:F,showOut:w,loadSpineWidget:b,initFromQuery:h,onMounted:j,reactive:C,nextTick:f,get useRoute(){return S},get useRouter(){return x}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}},q={class:"board-girl-wrapper"},z={key:0,class:"pilot-list"},E={class:"pilot-item"},I=["src","onClick"],M={key:1,class:"panel"};function U(y,t,c,e,l,p){return r(),d("div",{style:B(`position: ${c.position}`),class:X(["board-wrapper",c.position,e.state.assist])},[o("div",q,[m(o("div",{id:"board-girl",style:B({transform:`scale(${e.state.scale}) translate(${e.state.moveX}%, ${e.state.moveY}%)`})},null,4),[[O,e.state.open]])]),e.state.open?(r(),d("div",M,[o("div",null,[t[3]||(t[3]=g(" Scale")),m(o("input",{type:"range",min:"0.5",max:"3.5",step:"0.1","onUpdate:modelValue":t[0]||(t[0]=n=>e.state.scale=n)},null,512),[[v,e.state.scale]])]),o("div",null,[t[4]||(t[4]=g(" Move X")),m(o("input",{type:"range",min:"-50",max:"50",step:"1","onUpdate:modelValue":t[1]||(t[1]=n=>e.state.moveX=n)},null,512),[[v,e.state.moveX]])]),o("div",null,[t[5]||(t[5]=g(" Move Y")),m(o("input",{type:"range",min:"-50",max:"50",step:"1","onUpdate:modelValue":t[2]||(t[2]=n=>e.state.moveY=n)},null,512),[[v,e.state.moveY]])]),o("div",{class:"call-assist",onClick:e.onClear}," Clear ")])):(r(),d("div",z,[(r(!0),d(R,null,V(e.state.assists,n=>(r(),d("div",E,[o("img",{src:e.headImg(n),onClick:a=>e.toggleOpen(n),loading:"lazy"},null,8,I)]))),256))]))],6)}const T=P(Y,[["render",U],["__scopeId","data-v-a743ba11"],["__file","FinalGear.vue"]]);export{T as default};
