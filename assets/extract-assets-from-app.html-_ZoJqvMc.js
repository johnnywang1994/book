import{_ as l,c as r,b as a,a as n,d as i,e as o,w as c,r as t,o as d}from"./app-DGa2o6UV.js";const u={};function h(m,e){const s=t("SocialBlock"),p=t("RouteLink");return d(),r("div",null,[e[2]||(e[2]=a("h1",{id:"遊戲-app-素材解包學習紀錄",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#遊戲-app-素材解包學習紀錄"},[a("span",null,"遊戲 App 素材解包學習紀錄")])],-1)),n(s,{hashtags:"javascript,spine2d,live2d"}),a("p",null,[e[1]||(e[1]=o("Hi 大家好我是 Johnny，今天這篇是我將手機遊戲素材解包的學習紀錄，實在太愛這款遊戲的角色了（香啊！錢包都課金到空空 QAQ），最終效果可以在")),n(p,{to:"/spine/final-gear.html?assist=100010"},{default:c(()=>e[0]||(e[0]=[o("這裡查看")])),_:1,__:[0]})]),e[3]||(e[3]=i(`<blockquote><p>本篇文章及網站範例僅供教育學習參考使用，請勿違法將解包後獲取的素材轉售販賣</p></blockquote><h2 id="背景了解" tabindex="-1"><a class="header-anchor" href="#背景了解"><span>背景了解</span></a></h2><p>首先要動手前，需要先了解目前 2D 遊戲市場上的幾種常見技術作法，主要分為兩種技術 Spine2D, Live2D（應該還有別的，但小弟的認知有限只知道這兩種）:</p><ul><li><p>Spine2D 使用 <code>.altas</code>, <code>.skel</code> 檔案載入，有時候這兩個文件後面會帶有 <code>.prefab</code>, <code>.asset</code> 副檔名，不用鳥他直接刪掉副檔名就好，單一物件 runtime 素材結構參考如下</p><ul><li><code>.skel(.prefab|.asset)</code>: 必要，Skeleton 骨架文件，model 的核心資料，輸出格式可能是體積較小的 binary <code>.skel</code> 或 體積較大的 <code>.json</code>（遊戲檔案中通常用 <code>.skel</code> 減少整體 runtime 下載體積）</li><li><code>.altas(.prefab|.asset)</code>: 必要，描述貼圖如何佈置應用在 Skeleton 上的文件，根據製作時輸出大小不同，需要使用對應大小的 Texture 貼圖，通常在最上方會紀錄使用貼圖的名稱、尺寸，如果在讀取時貼圖尺寸不吻合 altas 設定可能導致解析錯誤或貼圖套用時跑位</li><li><code>.png</code>: 必要，Texture 貼圖文件供 <code>.altas</code> 使用</li></ul></li><li><p>Live2D 主要使用 <code>.moc3</code>, <code>model3.json</code>, <code>physics3.json</code> 載入，單一物件的 runtime 素材結構參考如下，<a href="https://www.live2d.com/zh-CHS/learn/sample/" target="_blank" rel="noopener noreferrer">官方文件在這</a></p><ul><li><code>xxx.moc3</code>: 必要，model 的核心資料</li><li><code>xxx.model3.json</code>: 必要，model 的設定資料（整合所有素材的描述文件）</li><li><code>xxx.physics3.json</code>: 必要，model 的物理模擬設定</li><li><code>xxx.png</code>: 必要，名稱通常叫 texture，為 2D 貼圖素材，通常為 png</li><li><code>xxx.motions.json</code>: 可能必要（但通常需要，不然就不叫 <code>Live</code>2d了吧...），保存 model 中用到的動畫集</li><li><code>xxx.cdi3.json</code>: 非必要，輔助顯示的文件</li><li>expresions: 非必要，保存 model 中用到的面部細節，通常為 json</li><li>sounds: 非必要，保存 model 中使用的聲音檔案</li></ul></li></ul><blockquote><p>兩種技術在素材提取時的操作基本都相同，後面用工具讀取解析步驟不同</p></blockquote><h2 id="開始動手提取" tabindex="-1"><a class="header-anchor" href="#開始動手提取"><span>開始動手提取！</span></a></h2><ol><li>透過模擬器下載遊戲(安裝完成，有些遊戲打開後才下載資源)</li><li>用模擬器的檔案管理員打開對應的 apk 內容，需打開 root 權限，可<a href="https://catchtest.pixnet.net/blog/post/32425306-%E5%8F%96%E5%87%BAandroid%E6%89%8B%E9%81%8A%E7%9A%84%E5%9C%96%E7%89%87%E5%90%A7" target="_blank" rel="noopener noreferrer">參考這篇</a></li><li>提取出模擬器需要的內容，貼到共享資料夾內（本機電腦的某個位置）</li><li>下載 AssetStudio，開啟複製出來的 <code>.ab</code> 檔案(或<code>.unity3d</code>檔案)</li><li>開啟後按下 export 輸出內容到指定位置</li></ol><h2 id="spine2d-文件處理" tabindex="-1"><a class="header-anchor" href="#spine2d-文件處理"><span>Spine2D 文件處理</span></a></h2><h3 id="快速開啟瀏覽" tabindex="-1"><a class="header-anchor" href="#快速開啟瀏覽"><span>快速開啟瀏覽</span></a></h3><p>如果只是想快速看妹紙，可以直接用 Steam 下載 <code>Live2DViewerEX</code> 直接快速引入打開，可<a href="https://www.bilibili.com/read/cv16611529/" target="_blank" rel="noopener noreferrer">參考這篇</a></p><h3 id="讓-spinewebplayer-能夠讀取-需把-skel-轉檔-json" tabindex="-1"><a class="header-anchor" href="#讓-spinewebplayer-能夠讀取-需把-skel-轉檔-json"><span>讓 SpineWebPlayer 能夠讀取，需把 .skel 轉檔 .json</span></a></h3><ul><li>這一步看運氣，需要先確定你的 spine 文件是第幾版本，大版本差異會導致無法讀取</li><li>假設是跟我一樣 <code>Spine v3.6.53</code> 版本，可以透過下面的操作轉換 <ol><li>找到 export 出來後的 <code>xxxx.altas.prefab</code>, <code>xxxx.skel.prefab</code> 這類的檔案，並把對應的皮膚圖檔 <code>xxxx.png</code>(名稱可以在 altas 那個檔案裡找找)，放到同一個獨立資料夾中(刪掉 .prefab 後綴)</li><li>透過<a href="https://naganeko.pages.dev/chibi-gif/" target="_blank" rel="noopener noreferrer">這個線上工具</a>轉換，選取對應的所有 <code>.skel</code>, <code>.altas</code>, <code>.png</code>，上傳之前注意人物 scale 需設定為 0.5，否則輸出的 json 讀取後尺寸可能跑掉</li><li>看到預覽後可以簡單調整，確定後點擊 <code>as is</code> 按鈕輸出</li></ol></li></ul><blockquote><p>這一步上傳的文件需注意 altas 中紀錄的 texture 圖檔尺寸需與上傳的圖檔相同，不然會跑位，可以用線上工具轉換好貼圖的圖檔尺寸之後再一起上傳</p></blockquote><ul><li>處理完成得到 json 格式的 skeleton 檔案後，v4 版本以上就可以透過 <a href="https://zh.esotericsoftware.com/spine-player" target="_blank" rel="noopener noreferrer">SpineWebPlayer</a>，v3 使用 <a href="https://github.com/EsotericSoftware/spine-runtimes/blob/3.6/spine-ts/widget/example/index.html" target="_blank" rel="noopener noreferrer">SpineWidget</a> 透過網頁載入，需注意載入 atlas 檔案名稱時，會自動被拿去查找同資料夾路徑下，相同檔案名稱的 png 貼圖</li></ul><blockquote><p>spine widget 沒有提供官方的 CDN url，需要手動去 source code 中下載</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// spine widget 範例</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">getOptions</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">json</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">model/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.json</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">atlas</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">model/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.atlas</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token comment">// atlas name must match your png name</span></span>
<span class="line">  <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">&quot;#00000000&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token comment">// scale: 0.2</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">new</span> <span class="token class-name">spine<span class="token punctuation">.</span>SpineWidget</span><span class="token punctuation">(</span><span class="token string">&#39;spine-widget&#39;</span><span class="token punctuation">,</span> <span class="token function">getOptions</span><span class="token punctuation">(</span><span class="token string">&#39;100010&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="spine2d-編輯文件" tabindex="-1"><a class="header-anchor" href="#spine2d-編輯文件"><span>Spine2D 編輯文件</span></a></h3><p>如果需要編輯 skeleton 文件，需要使用 <code>Spine2D 3.8</code> 破解版（或是你有錢也可以直接買正版ＸＤ），並引入剛剛輸出的 <code>.json</code> 檔(<code>.skel</code> 檔案應該也行，但我因為文件是 3.6 版本，一直讀取失敗所以先轉 json)，接著解析 altas 貼圖，可<a href="https://www.bilibili.com/read/cv18073492/" target="_blank" rel="noopener noreferrer">參考這篇</a></p><h3 id="音頻解析" tabindex="-1"><a class="header-anchor" href="#音頻解析"><span>音頻解析</span></a></h3><p>音頻 ACB 檔案，可以透過 <a href="https://sourceforge.net/projects/vgmtoolbox/" target="_blank" rel="noopener noreferrer">VGMToolBox</a> 轉換成 HCA 格式，再用 <a href="https://github.com/Nyagamon/HCADecoder/releases" target="_blank" rel="noopener noreferrer">HCADecoder</a> 轉成 wav 使用</p><h2 id="live2d-文件處理" tabindex="-1"><a class="header-anchor" href="#live2d-文件處理"><span>Live2D 文件處理</span></a></h2><p>太複雜了先不講ＸＤ，只先把一些相關資源放下面</p><h2 id="相關資源" tabindex="-1"><a class="header-anchor" href="#相關資源"><span>相關資源</span></a></h2><ul><li><a href="https://github.com/Perfare/AssetStudio/releases" target="_blank" rel="noopener noreferrer">AssetStudio</a></li><li><a href="https://sourceforge.net/projects/vgmtoolbox/" target="_blank" rel="noopener noreferrer">VGMToolBox</a></li><li><a href="https://github.com/Nyagamon/HCADecoder/releases" target="_blank" rel="noopener noreferrer">HCADecoder</a></li></ul><h3 id="spine2d" tabindex="-1"><a class="header-anchor" href="#spine2d"><span>Spine2D</span></a></h3><ul><li><a href="https://naganeko.pages.dev/chibi-gif/" target="_blank" rel="noopener noreferrer">chibi-gif</a></li><li><a href="https://www.kadalin.com/software/download-spine-2d-pro-full-version/" target="_blank" rel="noopener noreferrer">Spine2d PRO - download</a></li><li><a href="https://zh.esotericsoftware.com/spine-player" target="_blank" rel="noopener noreferrer">SpineWebPlayer - v4 up</a></li><li><a href="https://github.com/EsotericSoftware/spine-runtimes/blob/3.6/spine-ts/widget/example/index.html" target="_blank" rel="noopener noreferrer">SpineWidget - under v4</a></li></ul><h3 id="live2d" tabindex="-1"><a class="header-anchor" href="#live2d"><span>Live2D</span></a></h3><ul><li><a href="https://www.live2d.com/zh-CHS/cubism/download/editor/" target="_blank" rel="noopener noreferrer">Live2D Cubism Editor</a></li><li><a href="https://github.com/Live2D/CubismWebSamples" target="_blank" rel="noopener noreferrer">Live2D 官方 Demo - SDK included</a></li></ul>`,28)),n(s,{hashtags:"javascript,spine2d,live2d"}),e[4]||(e[4]=a("h2",{id:"結論",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#結論"},[a("span",null,"結論")])],-1)),e[5]||(e[5]=a("p",null,"研究了好幾天終於搞懂解析出了我要的東西！！這篇是一個完全沒相關背景的 app 素材小白一步一步學習的小筆記，偷偷學會不要跟別人講，你也能成為 App 解包大師，今天就講到這摟，下篇文章見拉～",-1))])}const g=l(u,[["render",h]]),b=JSON.parse('{"path":"/articles/js/extract-assets-from-app.html","title":"遊戲 App 素材解包學習紀錄","lang":"zh-TW","frontmatter":{},"git":{"updatedTime":1709031931000,"contributors":[{"name":"johnnywang","username":"johnnywang","email":"johnnywang@test.com","commits":3,"url":"https://github.com/johnnywang"}],"changelog":[{"hash":"f92393f9ba7d841d0d48179594ea2762414bcce1","time":1709031931000,"email":"johnnywang@test.com","author":"johnnywang","message":"✨ add rwkv-intro"},{"hash":"99f3c4163d6e4b5cd7468f25c25a2729ad247ce9","time":1708479491000,"email":"johnnywang@test.com","author":"johnnywang","message":"🐛 fix bug"},{"hash":"3ada6ee1c874a52f07149d031193a2633e49d102","time":1708478456000,"email":"johnnywang@test.com","author":"johnnywang","message":"✨ add extract app game assets"}]},"filePathRelative":"articles/js/extract-assets-from-app.md"}');export{g as comp,b as data};
