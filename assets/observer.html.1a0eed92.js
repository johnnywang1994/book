import{_ as a,r as e,o as t,c as p,a as o,d as n,e as c,f as i}from"./app.cbdbc4a7.js";const l={},r=n("h1",{id:"observer-pattern",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#observer-pattern","aria-hidden":"true"},"#"),c(" Observer Pattern")],-1),u=i(`<h2 id="\u524D\u8A00" tabindex="-1"><a class="header-anchor" href="#\u524D\u8A00" aria-hidden="true">#</a> \u524D\u8A00</h2><p>\u5927\u5BB6\u597D\uFF0C\u6211\u662F Johnny\uFF0C\u4ECA\u5929\u8981\u7D00\u9304\u5206\u4EAB\u7684\u662F Patterns \u7B46\u8A18\u7CFB\u5217\u7684 <code>Observer Pattern</code></p><h2 id="\u4ECB\u7D39" tabindex="-1"><a class="header-anchor" href="#\u4ECB\u7D39" aria-hidden="true">#</a> \u4ECB\u7D39</h2><p>Observer \u4F7F\u6211\u5011\u80FD\u5920\u5C0D\u7269\u4EF6\u9032\u884C\u8A02\u95B1\uFF0C\u7576 observable \u76EE\u6A19\u88AB\u8A02\u95B1\u7269\u4EF6\u51FA\u73FE\u4EFB\u4F55\u4E8B\u4EF6\uFF0C\u80FD\u5920\u5C0D\u5176\u5C0D\u61C9\u7684\u6240\u6709\u8A02\u95B1\u8005 observer \u50B3\u905E\u901A\u77E5\uFF0C\u4E00\u500B\u7D93\u5178\u7684\u6848\u4F8B\u5C31\u662F\uFF0C\u7576\u4F60\u8A02\u95B1\u7684\u7DB2\u7D05\u4ECA\u5929\u767C\u5E03\u4E86\u6700\u65B0\u5F71\u7247\uFF0C\u5176\u6240\u6709\u8A02\u95B1\u8005\u90FD\u5C07\u99AC\u4E0A\u6536\u5230\u901A\u77E5\u8A0A\u606F</p><p>\u4E00\u500B Observable \u7269\u4EF6\u901A\u5E38\u5305\u542B\u4EE5\u4E0B 3\u500B\u91CD\u8981\u90E8\u5206\uFF1A</p><ul><li><code>observers</code>: \u8A02\u95B1\u8005\u6E05\u55AE</li><li><code>subscribe()</code>: \u8A02\u95B1</li><li><code>unsubscribe()</code>: \u53D6\u6D88\u8A02\u95B1</li><li><code>notify()</code>: \u901A\u77E5\u6240\u6709\u8A02\u95B1\u8005</li></ul><p>\u6839\u64DA\u4EE5\u4E0A\uFF0C\u6211\u5011\u4F86\u5BE6\u969B\u52D5\u624B\u8A66\u8A66</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Observable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=&gt;</span> observer <span class="token operator">!==</span> func<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">observer</span> <span class="token operator">=&gt;</span> <span class="token function">observer</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8);function d(k,v){const s=e("SocialBlock");return t(),p("div",null,[r,o(s,{hashtags:"design,pattern,observer"}),u])}const m=a(l,[["render",d],["__file","observer.html.vue"]]);export{m as default};
